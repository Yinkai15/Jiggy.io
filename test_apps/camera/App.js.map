{"version":3,"sources":["webpack:///webpack/bootstrap a8bf6540c1a16bbc0770","webpack:///./App.ts","webpack:////mnt/c/projects/Jiggy.io/src/Engine.ts","webpack:////mnt/c/projects/Jiggy.io/src/utils/index.ts","webpack:////mnt/c/projects/Jiggy.io/src/utils/SeverityEnum.ts","webpack:////mnt/c/projects/Jiggy.io/src/utils/Camera.ts","webpack:////mnt/c/projects/Jiggy.io/src/utils/IDGenerator.ts","webpack:////mnt/c/projects/Jiggy.io/src/utils/Iterator.ts","webpack:////mnt/c/projects/Jiggy.io/src/utils/LogManager.ts","webpack:////mnt/c/projects/Jiggy.io/src/utils/ViewPort.ts","webpack:////mnt/c/projects/Jiggy.io/~/events/events.js","webpack:////mnt/c/projects/Jiggy.io/src/utils/CollisionEmitter.ts","webpack:////mnt/c/projects/Jiggy.io/src/audio/index.ts","webpack:////mnt/c/projects/Jiggy.io/src/audio/AudioEngine.ts","webpack:////mnt/c/projects/Jiggy.io/src/assets/index.ts","webpack:////mnt/c/projects/Jiggy.io/src/assets/Asset.ts","webpack:////mnt/c/projects/Jiggy.io/src/assets/AssetType.ts","webpack:////mnt/c/projects/Jiggy.io/src/assets/AssetState.ts","webpack:////mnt/c/projects/Jiggy.io/src/assets/AssetFactory.ts","webpack:////mnt/c/projects/Jiggy.io/src/assets/AssetLoader.ts","webpack:////mnt/c/projects/Jiggy.io/src/assets/AudioLoader.ts","webpack:////mnt/c/projects/Jiggy.io/src/assets/ImageLoader.ts","webpack:////mnt/c/projects/Jiggy.io/src/assets/JSONLoader.ts","webpack:////mnt/c/projects/Jiggy.io/src/assets/TextAssetBuilder.ts","webpack:////mnt/c/projects/Jiggy.io/src/assets/Spritesheet.ts","webpack:////mnt/c/projects/Jiggy.io/src/assets/Animation.ts","webpack:////mnt/c/projects/Jiggy.io/src/audio/HTML5AudioEngine.ts","webpack:////mnt/c/projects/Jiggy.io/src/engines/index.ts","webpack:////mnt/c/projects/Jiggy.io/src/engines/LogicEngine.ts","webpack:////mnt/c/projects/Jiggy.io/src/engines/GroupLogicEngine.ts","webpack:////mnt/c/projects/Jiggy.io/src/engines/RenderingEngine.ts","webpack:////mnt/c/projects/Jiggy.io/src/engines/TwoDimensionalRenderingEngine.ts","webpack:////mnt/c/projects/Jiggy.io/src/entities/index.ts","webpack:////mnt/c/projects/Jiggy.io/src/entities/Entity.ts","webpack:////mnt/c/projects/Jiggy.io/src/entities/EntityModel.ts","webpack:////mnt/c/projects/Jiggy.io/src/entities/EntityView.ts","webpack:////mnt/c/projects/Jiggy.io/src/entities/EntityView2D.ts","webpack:////mnt/c/projects/Jiggy.io/src/entities/GridMap.ts"],"names":[],"mappings":"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;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,gBAAe,SAAS;AACxB;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,IAAG;AACH,qBAAoB,SAAS;AAC7B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;AC1SA;KAMC;SACC,IAAI,CAAC,IAAI,GAAG,EAAE,CA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","file":"./App.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap a8bf6540c1a16bbc0770","import Engine from \"../../src/Engine\";\r\nimport {TwoDimensionalRenderingEngine, GroupLogicEngine} from \"../../src/engines/\";\r\nimport {HTML5AudioEngine} from \"../../src/audio/\";\r\nimport {Entity, LocationUpdateEvent} from \"../../src/entities/\";\r\nimport {Camera, ViewPortEventTypes, DimensionUpdateEvent, CollisionEmitter} from \"../../src/utils/\";\r\nimport {Asset, AssetState, AssetFactory, AssetType} from \"../../src/assets/\";\r\n\r\nclass CameraDemo extends Engine {\r\n    private _blocks : Entity[];\r\n    private _blockConfigs : {[key: string] : {[key: string]: any}};\r\n    private _container : Entity;\r\n    private _collisionEmitter : CollisionEmitter;\r\n    private _camera : Camera;\r\n    private _smallCamera : Camera;\r\n    private _pikachuTexture : Asset;\r\n    private _mouseIsIn : boolean;\r\n\r\n    constructor () {\r\n        super();\r\n        this._mouseIsIn = false;\r\n\r\n        this.viewPort.autoSize = true;\r\n        this.renderingEngine = new TwoDimensionalRenderingEngine();\r\n        this.logicEngine = new GroupLogicEngine();\r\n\r\n        this._blocks = [];\r\n        this._blockConfigs = {};\r\n\r\n        this._container = new Entity();\r\n        this._container.color = {r: 0, g: 0, b: 0};\r\n        this._container.width = 1000;\r\n        this._container.height = 1000;\r\n\r\n        this._camera = new Camera(this._container, null, {width: this._container.width, height: this._container.height}, null, {height: this._container.height, width: this._container.width});\r\n        this.renderingEngine.addCamera(this._camera);\r\n\r\n        this._smallCamera = new Camera(this._container, {x: 450, y: 450}, {width: 75, height: 75}, {x: 35, y: 35}, {width: 100, height: 100});\r\n        this.renderingEngine.addCamera(this._smallCamera);\r\n\r\n        this.renderingEngine.debugCamera = true;\r\n\r\n        let backgroundLoaded : boolean = false;\r\n        let pikachuLoaded : boolean = false;\r\n\r\n        this.viewPort.on(ViewPortEventTypes.DIMENSION_UPDATE.toString(), this._viewPortUpdated.bind(this));\r\n\r\n        var background : Asset = AssetFactory.getSingleton().build(AssetType.IMAGE,  'resources/poke_background.jpg');\r\n        var pikachu : Asset = AssetFactory.getSingleton().build(AssetType.IMAGE, 'resources/pikachu_small.png');\r\n\r\n        let resourcesLoaded = () => {\r\n            for (var i : number = 0; i < 200; i ++) {\r\n                console.log(\"Generate Pikachus\");\r\n                this._generatePikachu();\r\n            }\r\n            this.logicEngine.addLogic(\"collision\", this._moveBlocks.bind(this), 25);\r\n            // let smallCameraBG : Entity = new Entity();\r\n            // smallCameraBG.width = 120;\r\n            // smallCameraBG.height = 120;\r\n            // smallCameraBG.x = 25;\r\n            // smallCameraBG.y = 25;\r\n            // smallCameraBG.color = {r: 255, g: 0, b: 0};\r\n            // // this.renderingEngine.HUDEntity = smallCameraBG;\r\n            // this._container.addChild(smallCameraBG);\r\n\r\n            //Add Event listeners for demo...\r\n            this.viewPort.canvas.addEventListener('mouseover', () => {\r\n                console.log(\"OVER\");\r\n                this._mouseIsIn = true;\r\n            });\r\n\r\n            this.viewPort.canvas.addEventListener('mouseout', () => {\r\n                console.log(\"OUT\");\r\n                this._mouseIsIn = false;\r\n            });\r\n\r\n            this.viewPort.canvas.addEventListener('mousemove', (e: MouseEvent) => {\r\n                var fov = this._smallCamera.fov;\r\n                this._smallCamera.viewPoint = {x: e.clientX - this.viewPort.canvas.offsetLeft - (fov.width / 2), y: e.clientY - this.viewPort.canvas.offsetTop - (fov.height / 2)};\r\n            });\r\n\r\n            this.viewPort.canvas.addEventListener('mousewheel', (e: MouseWheelEvent) => {\r\n                // console.warn(e);\r\n                var fov = this._smallCamera.fov;\r\n                if (e.wheelDelta > 0) {\r\n                    //Mouse wheel went up, zoom in by decreasing FOV\r\n                    this._smallCamera.fov = {width: fov.width - 10, height: fov.height - 10};\r\n                } else {\r\n                    //Zoom out\r\n                    this._smallCamera.fov = {width: fov.width + 10, height: fov.height + 10};\r\n                }\r\n            });\r\n        };\r\n\r\n        this._pikachuTexture = pikachu;\r\n        background.onStateChange = (state : AssetState) => {\r\n            if (state === AssetState.LOADED) {\r\n                backgroundLoaded = true;\r\n                this._container.texture = background;\r\n                if (backgroundLoaded && pikachuLoaded) {\r\n                    resourcesLoaded();\r\n                }\r\n            }\r\n        };\r\n\r\n        pikachu.onStateChange = (state: AssetState) => {\r\n            if (state === AssetState.LOADED) {\r\n                pikachuLoaded = true;\r\n                if (backgroundLoaded && pikachuLoaded) {\r\n                    resourcesLoaded();\r\n                }\r\n            }\r\n        };\r\n\r\n        background.load();\r\n        pikachu.load();\r\n    }\r\n\r\n    private _generatePikachu () : void {\r\n        var block : Entity = new Entity();\r\n        this._blocks.push(block);\r\n        // this._collisionEmitter.addEntity(block);\r\n\r\n\r\n        block.width = 50;\r\n        block.height = 50;\r\n\r\n        block.texture = this._pikachuTexture;\r\n\r\n        block.x = Math.floor((Math.random() * this._container.width) + 1);\r\n        block.y = Math.floor((Math.random() * this._container.height) + 1);\r\n\r\n        // block.color = {r: Math.floor((Math.random() * 255) + 1), g: Math.floor((Math.random() * 255) + 1), b: Math.floor((Math.random() * 255) + 1)};\r\n\r\n        this._blockConfigs[block.ID] = {};\r\n        this._blockConfigs[block.ID][\"x_dir\"] = Math.floor((Math.random()*2)+1) === 2 ? \"right\" : \"left\";\r\n        this._blockConfigs[block.ID][\"y_dir\"] = Math.floor((Math.random()*2)+1) === 2 ? \"up\" : \"down\";\r\n        this._blockConfigs[block.ID][\"speed\"] = Math.floor((Math.random()*2)+1) / 1.5;\r\n\r\n        this._container.addChild(block);\r\n    }\r\n\r\n    private _viewPortUpdated (event: DimensionUpdateEvent) : void {\r\n        this._container.width = event.newDimensions.width;\r\n        this._container.height = event.newDimensions.height;\r\n        this._camera.fov = {width: event.newDimensions.width, height: event.newDimensions.height};\r\n        this._camera.renderDimension = {width: event.newDimensions.width, height: event.newDimensions.height};\r\n\r\n    }\r\n\r\n    private _moveBlocks () : void {\r\n        for (var i in this._blocks) {\r\n            let block = this._blocks[i];\r\n            let x : number;\r\n            let y : number;\r\n            let x2 : number;\r\n            let y2 : number;\r\n\r\n            if (this._blockConfigs[block.ID][\"x_dir\"] === \"right\") {\r\n                x = block.x + this._blockConfigs[block.ID][\"speed\"];\r\n                x2 = x + block.width;\r\n\r\n                if (x2 >= this._container.width) {\r\n                    x = this._container.width - block.width;\r\n                    this._blockConfigs[block.ID][\"x_dir\"] = \"left\";\r\n                }\r\n            } else if (this._blockConfigs[block.ID][\"x_dir\"] === \"left\") {\r\n                x = block.x - this._blockConfigs[block.ID][\"speed\"];\r\n                x2 = x + block.width;\r\n\r\n                if (x <= 0) {\r\n                    x = 0;\r\n                    this._blockConfigs[block.ID][\"x_dir\"] = \"right\";\r\n                }\r\n            }\r\n\r\n            if (this._blockConfigs[block.ID][\"y_dir\"] === \"down\") {\r\n                y = block.y + this._blockConfigs[block.ID][\"speed\"];\r\n                y2 = y + block.height;\r\n\r\n                if (y2 >= this._container.height) {\r\n                    y = this._container.height - block.height;\r\n                    this._blockConfigs[block.ID][\"y_dir\"] = \"up\";\r\n                }\r\n            } else if (this._blockConfigs[block.ID][\"y_dir\"] === \"up\") {\r\n                y = block.y - this._blockConfigs[block.ID][\"speed\"];\r\n                y2 = y + block.height;\r\n\r\n                if (block.y <= 0) {\r\n                    y = 0;\r\n                    this._blockConfigs[block.ID][\"y_dir\"] = \"down\";\r\n                }\r\n            }\r\n\r\n            block.coordinate = {x, y};\r\n        }\r\n\r\n        if (!this._mouseIsIn && this._blocks.length > 0) {\r\n            //Follow the first pikachu!\r\n            var picka = this._blocks[1];\r\n            var fov = this._smallCamera.fov;\r\n\r\n            this._smallCamera.viewPoint = {x: picka.x + ((picka.width - fov.width) / 2), y: picka.y + ((picka.height - fov.height) / 2)};\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\ndeclare var window._CameraDemo : CameraDemo;\r\nwindow._CameraDemo = new CameraDemo();\n\n\n// WEBPACK FOOTER //\n// ./App.ts","import {ViewPort, Camera, LogManager, SeverityEnum} from './utils';\r\nimport {AudioEngine, HTML5AudioEngine} from './audio';\r\nimport {AssetFactory,AssetType,\tAssetState} from './assets';\r\nimport {RenderingEngine,GroupLogicEngine,TwoDimensionalRenderingEngine, LogicEngine} from './engines';\r\n\r\n//Typescript Testing Imports\r\nimport {GridMap,Entity} from './entities';\r\nimport {ControllerFactory} from './inputs';\r\nimport {Animation,Spritesheet} from './assets';\r\nimport {CollisionEmitter} from './utils';\r\n\r\n//End//\r\n\r\nexport default class Engine {\r\n\tprotected static _instance: Engine;\r\n\tprivate _renderingEngine : RenderingEngine;\r\n\tpublic audioEngine : AudioEngine;\r\n\tpublic logManager : LogManager;\r\n\tpublic assetFactory : AssetFactory;\r\n\tpublic logicEngine : LogicEngine;\r\n\tpublic viewPort : ViewPort;\r\n\tprivate debugMode : boolean;\r\n\r\n\tconstructor () {\r\n\t\tif (Engine._instance) {\r\n\t\t\tthrow new Error('Engine is a singleton');\r\n\t\t}\r\n\t\tEngine._instance = this;\r\n\r\n\t\tthis.debugMode = false;\r\n\r\n\t\tthis.logManager = LogManager.getSingleton();\r\n\r\n\t\t//Setup the default AssetFactory\r\n\t\tthis.assetFactory = AssetFactory.getSingleton();\r\n\r\n\t\tthis.audioEngine = new HTML5AudioEngine();\r\n\r\n\t\t//Create the ViewPort\r\n\t\tthis.viewPort = new ViewPort();\r\n\r\n\t\tthis.logManager.log(SeverityEnum.INFO, 'Engine has started.');\r\n\t}\r\n\r\n\tpublic static getSingleton(): Engine {\r\n\t\tif (!Engine._instance) {\r\n\t\t\tnew Engine();\r\n\t\t}\r\n\r\n\t\treturn Engine._instance;\r\n\t}\r\n\r\n\tset renderingEngine (renderingEngine : RenderingEngine) {\r\n\t\tif (this.renderingEngine) {\r\n\t\t\t//Stop the old rendering engine\r\n\t\t}\r\n\r\n\t\tthis._renderingEngine = renderingEngine;\r\n\r\n\t\t//Start the new Rendering engine, pass in View Port, etc...\r\n\t\tthis._renderingEngine.viewPort = this.viewPort;\r\n\t\tthis._renderingEngine.startRendering();\r\n\t}\r\n\r\n\tget renderingEngine () : RenderingEngine {\r\n\t\treturn this._renderingEngine;\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// /mnt/c/projects/Jiggy.io/src/Engine.ts","export {SeverityEnum} from './SeverityEnum';\nexport {Camera} from './Camera';\nexport {IDGenerator} from './IDGenerator';\nexport {Iterator} from './Iterator';\nexport {LogManager} from './LogManager';\nexport {ViewPort} from './ViewPort';\nexport {CollisionEmitter} from './CollisionEmitter';\nexport {ViewPortEventTypes} from \"./ViewPortEventTypes\";\nexport {DimensionUpdateEvent} from \"./DimensionUpdateEvent\";\n\n\n\n// WEBPACK FOOTER //\n// /mnt/c/projects/Jiggy.io/src/utils/index.ts","export enum SeverityEnum {\n\tDEBUG,\n\tINFO,\n\tWARNING,\n\tERROR\n}\n\n\n// WEBPACK FOOTER //\n// /mnt/c/projects/Jiggy.io/src/utils/SeverityEnum.ts","import {Entity} from \"../entities/Entity\";\r\nimport {\r\n\tCoordinate,\r\n\tDimension\r\n} from '../interfaces/';\r\n\r\nexport class Camera {\r\n\tpublic scene : Entity;\r\n\tpublic viewPoint : Coordinate;\r\n\tpublic fov : Dimension;\r\n\tpublic renderOrigin : Coordinate;\r\n\tpublic renderDimension : Dimension;\r\n\r\n\tconstructor (scene : Entity, viewPoint : Coordinate, fov : Dimension, renderOrigin: Coordinate, renderDimension: Dimension) {\r\n\t\tthis.scene = scene;\r\n\r\n\t\tthis.viewPoint = viewPoint || {x:  0, y: 0};\r\n\r\n\t\tthis.fov = fov || {width: 100, height: 100};\r\n\r\n\t\tthis.renderOrigin = renderOrigin || {x: 0, y: 0};\r\n\r\n\t\tthis.renderDimension = renderDimension || {width: 100, height: 100};\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// /mnt/c/projects/Jiggy.io/src/utils/Camera.ts","\nexport class IDGenerator {\n\tprivate static _instance: IDGenerator;\n\n\tconstructor() {\n\t\tif (IDGenerator._instance) {\n\t\t\tthrow new Error('IDGenerator is a singleton.');\n\t\t}\n\t\tIDGenerator._instance = this;\n\t}\n\n\tpublic generate(): string {\n\t\treturn 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n\t\t\tvar r = Math.random() * 16|0, v = c === 'x' ? r : (r&0x3|0x8);\n\t\t\treturn v.toString(16);\n\t\t});\n\t}\n\n\tpublic static getSingleton(): IDGenerator {\n\t\tif (!IDGenerator._instance) {\n\t\t\tnew IDGenerator();\n\t\t}\n\t\treturn IDGenerator._instance;\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// /mnt/c/projects/Jiggy.io/src/utils/IDGenerator.ts","export class Iterator {\r\n\tprivate _array : any[];\r\n\tprivate _index : number;\r\n\tprivate _length : number;\r\n\r\n\tpublic constructor (array : any[]) {\r\n\t\tthis._array = array;\r\n\t\tthis._index = -1;\r\n\t\tthis._length = array.length;\r\n\t}\r\n\r\n\tpublic hasNext () : boolean {\r\n\t\tif (this._array[this._index + 1]) {\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic next () : any {\r\n\t\tthis._index += 1;\r\n\t\treturn this._array[this._index];\r\n\t}\r\n\r\n\tpublic hasPrev () : boolean {\r\n\t\tif (this._array[this._index - 1]) {\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic prev () : any {\r\n\t\tthis._index -= 1;\r\n\t\treturn this._array[this._index];\r\n\t}\r\n\r\n\tpublic setToBeginning () : void {\r\n\t\tthis._index = -1;\r\n\t}\r\n\r\n\tpublic setToEnd () : void {\r\n\t\tthis._index = this._array.length;\r\n\t}\r\n\r\n\tpublic getFirst  () : any {\r\n\t\treturn this._array[0];\r\n\t}\r\n\r\n\tpublic getLast () : any {\r\n\t\treturn this._array[this._array.length - 1];\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// /mnt/c/projects/Jiggy.io/src/utils/Iterator.ts","import { SeverityEnum } from './SeverityEnum';\r\n\r\nexport class LogManager {\r\n\tprivate _logLevel : SeverityEnum;\r\n\tprivate static _instance:LogManager = new LogManager();\r\n\tconstructor () {\r\n        if(LogManager._instance){\r\n            throw new Error(\"Error: Instantiation failed: Use getInstance() instead of new.\");\r\n        }\r\n        LogManager._instance = this;\r\n\r\n\t\tthis._logLevel = SeverityEnum.WARNING | SeverityEnum.ERROR;\r\n\t\t// if (zen.isDebugMode()) {\r\n\t\tthis._logLevel = this._logLevel | SeverityEnum.DEBUG | SeverityEnum.INFO;\r\n\t}\r\n\r\n\tpublic log (severity : SeverityEnum, message: string) : void {\r\n\t\tif (this.getLogLevel() & severity) {\r\n\t\t\tswitch(severity) {\r\n\t\t\t\tcase SeverityEnum.DEBUG:\r\n\t\t\t\t\tconsole.debug(message);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase SeverityEnum.INFO:\r\n\t\t\t\t\tconsole.info(message);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase SeverityEnum.WARNING:\r\n\t\t\t\t\tconsole.warn(message);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase SeverityEnum.ERROR:\r\n\t\t\t\t\tconsole.error(message);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic setLogLevel (severity: SeverityEnum) : void {\r\n\t\tthis._logLevel = severity;\r\n\t\t// if (zen.isDebugMode() && this._logLevel & SeverityEnum.DEBUG === 0) {\r\n\t\t\t//If debug mode, always have the DEBUG flag enabled.\r\n\t\t\t// this._logLevel = this._logLevel | zen.util.LogManager.DEBUG;\r\n\t\t// }\r\n\t\t// else {\r\n\t\t\tthis._logLevel = severity;\r\n\t\t// }\r\n\t}\r\n\r\n\tpublic getLogLevel () : SeverityEnum {\r\n\t\treturn this._logLevel;\r\n\t}\r\n\r\n\tpublic static getSingleton():LogManager {\r\n\t\treturn LogManager._instance;\r\n\t}\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// /mnt/c/projects/Jiggy.io/src/utils/LogManager.ts","import * as Events from 'events';\r\nimport {Dimension} from \"../interfaces/\";\r\nimport {ViewPortEventTypes, DimensionUpdateEvent} from \"./\";\r\n\r\nexport class ViewPort extends Events.EventEmitter {\r\n\tpublic canvas : HTMLCanvasElement;\r\n\tpublic context : CanvasRenderingContext2D;\r\n\tpublic resizable : boolean;\r\n\tprivate _autoSize : boolean;\r\n\tprivate _autoSizeTimer : any;\r\n\tprivate _dimension : Dimension;\r\n\r\n\tconstructor () {\r\n\t\tsuper();\r\n\t\tthis.canvas = document.createElement('canvas');\r\n\t\tthis.context = this.canvas.getContext('2d');\r\n\t\tthis.resizable = false;\r\n\t\tthis._dimension = {width: 0, height: 0};\r\n\t\tthis.autoSize = false; //Auto sizes View\r\n\t}\r\n\r\n\tpublic setScale (dimension : Dimension) : void {\r\n\t\tthis.context.scale(dimension.width, dimension.height);\r\n\t}\r\n\r\n\tpublic set autoSize (state: boolean) {\r\n\t\tif (this._autoSizeTimer) {\r\n\t\t\tclearInterval(this._autoSizeTimer);\r\n\t\t}\r\n\r\n\t\tif (state) {\r\n\t\t\tthis._checkForParentSizeChange();\r\n\t\t\tthis._autoSizeTimer = setInterval(() => {\r\n\t\t\t\tthis._checkForParentSizeChange();\r\n\t\t\t}, 100);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic get autoSize () : boolean {\r\n\t\treturn this._autoSize;\r\n\t}\r\n\r\n\tget size () : Dimension {\r\n\t\treturn {width: this.canvas.offsetWidth, height: this.canvas.offsetHeight};\r\n\t}\r\n\r\n\tset size (dimension : Dimension) {\r\n\t\t//First, set the variables for reference\r\n\t\tthis._dimension = dimension;\r\n\r\n\t\t//Update the Canvas dimensions\r\n\t\tthis.canvas.setAttribute('width', dimension.width + \"px\");\r\n\t\tthis.canvas.setAttribute('height', dimension.height + \"px\");\r\n\r\n\t\tthis.emit('resize', dimension);\r\n\t}\r\n\r\n\tpublic clear () : void {\r\n\t\tthis.context.clearRect(0, 0, this._dimension.width, this._dimension.height);\r\n\t}\r\n\r\n\tpublic drawImage (img: HTMLImageElement, clip_x : number, clip_y : number, clip_width : number, clip_height : number, x: number, y : number, width : number, height : number) {\r\n\t\tthis.context.drawImage(img, clip_x, clip_y, clip_width, clip_height, x, y, width, height);\r\n\t}\r\n\r\n\tpublic setFont (font : string) : void {\r\n\t\tthis.context.font = font;\r\n\t}\r\n\r\n\tpublic setColor (color : string) : void {\r\n\t\tthis.context.fillStyle = color;\r\n\t}\r\n\r\n\tpublic measureText (text : string) : TextMetrics {\r\n\t\treturn this.context.measureText(text);\r\n\t}\r\n\r\n\tpublic setTextBaseline (baseline : string) : void {\r\n\t\tthis.context.textBaseline = baseline;\r\n\t}\r\n\r\n\tpublic drawText (text : string, x : number, y : number, maxWidth : number) : void {\r\n\t\tthis.context.fillText(text, x, y, maxWidth);\r\n\t}\r\n\r\n\tpublic setHidden () : void {\r\n\t\tthis.canvas.style.position = \"absolute\";\r\n\t\tthis.canvas.style.left = '110001px';\r\n\t}\r\n \r\n\tpublic getImage () : HTMLImageElement {\r\n\t\tvar image =  <HTMLImageElement> document.createElement('img');\r\n\t\timage.src = this.canvas.toDataURL(\"image/png\");\r\n\t\treturn image;\r\n\t\t// return this.context.getImageData(0, 0, this.width, this.height);\r\n\t}\r\n\r\n\tprivate _checkForParentSizeChange ( ) : void {\r\n\t\tif (this.canvas.parentNode) {\r\n\t\t\tvar size = this.size;\r\n\t\t\tvar parent = <HTMLElement> this.canvas.parentNode;\r\n\t\t\t//TODO: Fix an issue with incrementing auto size and remove magic number\r\n\t\t\tvar parent_size : Dimension = {width: parent.offsetWidth, height: parent.offsetHeight-2};\r\n\t\t\tif (size.width != parent_size.width || size.height != parent_size.height) {\r\n\t\t\t\tthis.size = {width: parent_size.width, height: parent_size.height};\r\n\r\n\t\t\t\tlet eventData : DimensionUpdateEvent = {\r\n\t\t\t\t\ttype: ViewPortEventTypes.DIMENSION_UPDATE.toString(),\r\n\t\t\t\t\toldDimensions: size,\r\n\t\t\t\t\tnewDimensions: parent_size,\r\n\t\t\t\t\tsource: this\r\n\t\t\t\t};\r\n\r\n\t\t\t\tthis.emit(ViewPortEventTypes.DIMENSION_UPDATE.toString(), eventData);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// /mnt/c/projects/Jiggy.io/src/utils/ViewPort.ts","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// /mnt/c/projects/Jiggy.io/~/events/events.js\n// module id = 9\n// module chunks = 0","import {Entity, EntityEventTypes, LocationUpdateEvent} from \"../entities/\";\r\nimport {Event, Coordinate} from \"../interfaces/\";\r\n\r\nexport class CollisionEmitter {\r\n\tprivate _entities : Entity[];\r\n\tprivate _entitiesListeners : {[key: string] : {(entity1: Entity, entity2: Entity, event: LocationUpdateEvent) : void}[]};\r\n\tprivate _listeners : {(entity1: Entity, entity2: Entity, event: LocationUpdateEvent) : void}[];\r\n\tprivate _cbs : {[key: string]: {(eventType: string): void}};\r\n\r\n\tconstructor () {\r\n\t\tthis._cbs = {};\r\n\t\tthis._entities = [];\r\n\t\tthis._entitiesListeners = {};\r\n\t\tthis._listeners = [];\r\n\t\tthis._cbs[EntityEventTypes.LOCATION_UPDATE] = this._onEntityLocationUpdate.bind(this)\r\n\t}\r\n\r\n\tpublic addEntity (entity: Entity) : void {\r\n\t\tif (!this.hasEntity(entity)) {\r\n\t\t\tthis._entities.push(entity);\r\n\t\t\tthis._entitiesListeners[entity.ID] = [];\r\n\r\n\t\t\tentity.on(EntityEventTypes.LOCATION_UPDATE.toString(), this._cbs[EntityEventTypes.LOCATION_UPDATE]);\r\n\t\t\t// entity.on(\"dimension_update\", this._onEntityUpgrade.bind(this));\r\n\t\t}\r\n\t}\r\n\r\n\tpublic removeEntity (entity: Entity) : void {\r\n\t\tif (this.hasEntity(entity)) {\r\n\t\t\tthis._entities.splice(this._entities.indexOf(entity), 1);\r\n\t\t\tdelete this._entitiesListeners[entity.ID];\r\n\t\t}\r\n\t}\r\n\r\n\tpublic hasEntity (entity: Entity) : boolean {\r\n\t\treturn this._entitiesListeners.hasOwnProperty(entity.ID);\r\n\t}\r\n\r\n\tpublic addEntityCollisionListener (entity: Entity, callback: (entity1: Entity, entity2: Entity, event: LocationUpdateEvent) => void) : void {\r\n\t\tif (!this.hasEntity(entity)) {\r\n\t\t\tthis.addEntity(entity);\r\n\t\t}\r\n\r\n\t\tthis._entitiesListeners[entity.ID].push(callback);\r\n\t}\r\n\r\n\tpublic removeEntityCollisionListener (entity: Entity, callback: (entity1: Entity, entity2: Entity, event: LocationUpdateEvent) => void) : void {\r\n\t\tif (this._entitiesListeners[entity.ID].indexOf(callback) > -1) {\r\n\t\t\tthis._entitiesListeners[entity.ID].splice(this._entitiesListeners[entity.ID].indexOf(callback), 1);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic addCollisionListener (callback: (entity1: Entity, entity2: Entity, event: LocationUpdateEvent) => void) : void {\r\n\t\tthis._listeners.push(callback);\r\n\t}\r\n\r\n\tpublic removeCollisionListener (callback: (entity1: Entity, entity2: Entity, event: LocationUpdateEvent) => void) : void {\r\n\t\tif (this._listeners.indexOf(callback) > -1) {\r\n\t\t\tthis._listeners.splice(this._listeners.indexOf(callback), 1);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate _onEntityLocationUpdate (event: LocationUpdateEvent) : void {\r\n\t\t//Check for possible collisions\r\n\t\tlet entity : Entity = event.source;\r\n\r\n\t\tif (entity.parent) {\r\n\t\t\tvar potCollisions : Entity[] = entity.parent.findChildren({x: entity.x, y: entity.y}, {x: entity.x2, y: entity.y2});\r\n\t\t\tvar collisions : Entity[] = [];\r\n\r\n\t\t\tfor (let i in potCollisions) {\r\n\t\t\t\tlet potEntity = potCollisions[i];\r\n\r\n\t\t\t\tif (potEntity != entity && this.hasEntity(potEntity)) {\r\n\t\t\t\t\tcollisions.push(potEntity);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (collisions.length > 0) {\r\n\t\t\t\t//ALERT THE TROOPS!!\r\n\t\t\t\tfor (let i in this._listeners) {\r\n\t\t\t\t\tlet listener = this._listeners[i];\r\n\t\t\t\t\tlistener(entity, collisions[0], event);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// /mnt/c/projects/Jiggy.io/src/utils/CollisionEmitter.ts","export {AudioEngine} from './AudioEngine';\nexport {HTML5AudioEngine} from './HTML5AudioEngine';\n\n\n\n// WEBPACK FOOTER //\n// /mnt/c/projects/Jiggy.io/src/audio/index.ts","import {\n\tLogManager,\n\tSeverityEnum\n} from '../utils/';\nimport {\n\tAsset,\n\tAssetFactory,\n\tAssetType\n} from '../assets/';\n\nvar assetFactory: AssetFactory = AssetFactory.getSingleton();\n\ninterface AudioMap {\n\t[key: string]: Asset[]\n}\n\n/**\n * public constructor AudioEngine\n *\n *\tCreates an AudioEngine to manage and play different\n *\taudio assets.\n *\n * \tThis class is abstract and must be subclassed, with\n * \tan implementation to the abstract methods.\n *\n * TODO: Make a way to mute/unmute All Audio\n */\n\nexport abstract class AudioEngine {\n\tpublic logManager: LogManager;\n\tprivate _audioMap: AudioMap;\n\n\tconstructor() {\n\t\tthis._audioMap = {};\n\t\tthis.logManager = LogManager.getSingleton();\n\t}\n\n\t/**\n\t * public addAudio\n\t *\n\t *\tAdds an audio asset to this audio engine.\n\t * \t\n\t * @param {String} name  \t\tUser Friendly  name\n\t * @param {Integer} channels \tOptional\n\t * @param {Asset} \taudio \n\t */\n\tpublic addAudio(name: string, audio: Asset, channels?: number): void {\n\t\tif (audio.getType() !== AssetType.AUDIO) {\n\t\t\tthrow 'AudioEngine.addAudio: Invalid Asset Type.';\n\t\t}\n\t\tthis._setAudio(name, audio, channels);\n\t}\n\n\t/**\n\t * public hasAudio\n\t *\n\t *\tReturns true, if an audio asset by name exists.\n\t * \n\t * @param  {String}  name User friendly name.\n\t * @return {Boolean}      \n\t */\n\tpublic hasAudio(name: string): boolean {\n\t\tvar audio: Asset = this._getAudio(name);\n\t\treturn (audio !== null);\n\t}\n\n\t/**\n\t * public removeAudio\n\t *\n\t *\tRemoves an audio asset from this audio engine.\n\t *\tWill stop the audio if playing.\n\t * \n\t * @param  {String} name User friendly name\n\t * @return {void}      \n\t */\n\tpublic removeAudio(name: string): void {\n\t\tvar audio: Asset = this._getAudio(name);\n\t\tif (audio) {\n\t\t\tthis._stopAudio(audio);\n\t\t}\n\t\tdelete this._audioMap[name];\n\t}\n\n\t/**\n\t * public releaseAssets\n\t *\n\t *\tRemoves all audio assets from the audio engine.\n\t * \n\t * @return {void} \n\t */\n\tpublic releaseAssets(): void {\n\t\tvar keys = Object.keys(this._audioMap);\n\t\tfor (var i = 0, len = keys.length; i < len; i++) {\n\t\t\tthis.removeAudio(keys[i]);\n\t\t}\n\t}\n\n\t/**\n\t * public playAudio\n\t *\n\t *\tPlays an audio asset.\n\t * \n\t * @param  {String} name User friendly name\n\t * @return {void}      \n\t */\n\tpublic playAudio(name: string): void {\n\t\tvar audio: Asset = this._getAudio(name);\n\t\tif (audio) {\n\t\t\tthis._playAudio(audio);\n\t\t\taudio.setAttribute('playing', true);\n\t\t}\n\t}\n\n\t/**\n\t * public pauseAudio\n\t *\n\t *\tPauses an audio asset.\n\t * \n\t * @param  {String} name User friendly name\n\t * @return {void}      \n\t */\n\tpublic pauseAudio(name: string): void {\n\t\tvar audio: Asset = this._getAudio(name);\n\t\tif (audio) {\n\t\t\tthis._pauseAudio(audio);\n\t\t\taudio.setAttribute('playing', false);\n\t\t}\n\t}\n\n\t/**\n\t * public stopAudio\n\t *\n\t *\tStops an audio asset. (Resets time cursor back to 0 seconds).\n\t * \n\t * @param  {String} name User friendly name\n\t * @return {void}      \n\t */\n\tpublic stopAudio(name: string): void {\n\t\tvar audio: Asset = this._getAudio(name);\n\t\tif (audio) {\n\t\t\tthis._stopAudio(audio);\n\t\t\taudio.setAttribute('playing', false);\n\t\t}\n\t}\n\n\t/**\n\t * public isAudioLooping\n\t *\n\t *\tReturns true, if audio asset will loop.\n\t * \n\t * @param  {String}  name User friendly name\n\t * @return {Boolean}      \n\t */\n\tpublic isAudioLooping(name: string): boolean {\n\t\tvar audio: Asset = this._getAudio(name);\n\t\tif (audio) {\n\t\t\treturn this._isAudioLooping(audio);\n\t\t}\n\t\treturn false;\n\t}\n\n\t/**\n\t * public loopAudio\n\t *\n\t *\tEnables looping of an audio asset.\n\t * \n\t * @param  {String} name  User friendly name\n\t * @param  {Boolean} state Should the audio asset loop?\n\t * @return {void}\n\t */\n\tpublic loopAudio(name: string, state: boolean): void {\n\t\tvar audio: Asset = this._getAudio(name);\n\t\tif (audio) {\n\t\t\tthis._loopAudio(audio, state);\n\t\t}\n\t}\n\n\t/**\n\t * public isAudioMuted\n\t *\n\t *\tReturns true if the audio asset is muted.\n\t * \n\t * @param  {String}  name User friendly name\n\t * @return {Boolean}      \n\t */\n\tpublic isAudioMuted(name: string): boolean {\n\t\tvar audio: Asset = this._getAudio(name);\n\t\tif (audio) {\n\t\t\treturn this._isAudioMuted(audio);\n\t\t}\n\t\treturn false;\n\t}\n\n\t/**\n\t * public muteAudio\n\t *\n\t *\tMutes an audio asset.\n\t * \n\t * @param  {String} name  \n\t * @param  {Boolean} state \n\t * @return {void}       \n\t */\n\tpublic muteAudio(name: string, state: boolean): void {\n\t\tvar audio: Asset = this._getAudio(name);\n\t\tif (audio) {\n\t\t\tthis._muteAudio(audio, state);\n\t\t}\n\t}\n\n\t/**\n\t * public getAudioDuration\n\t *\n\t *\tGets the duration of the audio asset (in seconds).\n\t * \n\t * @param  {String} name User friendly name\n\t * @return {Float} \n\t */\n\tpublic getAudioDuration(name: string): number {\n\t\tvar audio: Asset = this._getAudio(name);\n\t\tif (audio) {\n\t\t\treturn this._getAudioDuration(audio);\n\t\t}\n\t\treturn 0;\n\t}\n\n\t/**\n\t * public setTimeCursor\n\t *\n\t *\tSets the current time to be played on the audio asset,\n\t *\tin seconds.\n\t * \n\t * @param {String} name    User friendly name\n\t * @param {Float} seconds \n\t */\n\tpublic setTimeCursor(name: string, seconds: number): void {\n\t\tvar audio: Asset = this._getAudio(name);\n\t\tif (audio) {\n\t\t\tthis._setTimeCursor(audio, seconds);\n\t\t}\n\t}\n\n\t/**\n\t * public getTimeCursor\n\t *\n\t *\tGets the current time being played on the audio asset,\n\t *\tin seconds.\n\t * \n\t * @param  {String} name User friendly name\n\t * @return {Float}      \n\t */\n\tpublic getTimeCursor(name: string): number {\n\t\tvar audio: Asset = this._getAudio(name);\n\t\tif (audio) {\n\t\t\treturn this._getTimeCursor(audio);\n\t\t}\n\t\treturn 0;\n\t}\n\n\t/**\n\t * public setVolume\n\t *\n\t *\tSets the volume of the audio asset.\n\t * \n\t * @param {String} name   User friendly name\n\t * @param {Float} volume\n\t */\n\tpublic setVolume(name: string, volume: number) {\n\t\tvar audio: Asset = this._getAudio(name);\n\t\tif (audio) {\n\t\t\tthis._setVolume(audio, volume);\n\t\t}\n\t}\n\n\t/**\n\t * public getVolume\n\t *\n\t *\tGets the volume of the audio asset.\n\t * \n\t * @param  {String} name User friendly name\n\t * @return {Float}      \n\t */\n\tpublic getVolume(name: string): number {\n\t\tvar audio: Asset = this._getAudio(name);\n\t\tif (audio) {\n\t\t\treturn this._getVolume(audio);\n\t\t} else {\n\t\t\treturn 0;\n\t\t}\n\t}\n\n\t/**\n\t * protected _setAudio\n\t *\n\t *\tAdds an audio asset to the audio hash map.\n\t *\tIf audio is null, then the key is deleted.\n\t * \n\t * @param {String} name  User friendly reference\n\t * @param {Asset} audio \n\t * @param {Integer} channels \n\t */\n\tprotected _setAudio(name: string, audio: Asset, channels: number): void {\n\t \tif (!audio) {\n\t\t\tthis.removeAudio(name);\n\t\t}\n\t\telse {\n\t\t\tvar channelArr: Asset[] = [audio];\n\t\t\tif (channels > 1) {\n\t\t\t\tvar clone: Asset;\n\t\t\t\tfor (var i = 1; i < channels; i++) {\n\t\t\t\t\tclone = assetFactory.build(audio.getType(), audio.getSource());\n\t\t\t\t\tchannelArr.push(clone);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._audioMap[name] = channelArr;\n\t\t\tthis._registerEvents(channelArr);\n\t\t}\n\t}\n\n\t/**\n\t * protected _warnMissingAudio\n\t *\n\t *\tReports an audio missing warning.\n\t * \n\t * @param  {String} name User friendly reference.\n\t * @return {void}      \n\t */\n\tprotected _warnMissingAudio(name: string): void {\n\t\tthis.logManager.log(SeverityEnum.WARNING, 'Audio ' + name + ' is missing from Audio Engine.');\n\t}\n\n\t/**\n\t * protected _getAudio\n\t *\n\t *\tGets an audio asset from the audio hash map.\n\t * \n\t * @param  {String} name User friendly reference\n\t * @param  {Boolean} justGiveChannel1 If true, does NOT search for an available channel\n\t * @return {Asset}   \n\t */\n\tprotected _getAudio(name: string, justGiveChannel1?: boolean): Asset {\n\t\tif (this._audioMap[name]) {\n\t\t\tvar channels: Asset[] = this._audioMap[name];\n\t\t\tif (justGiveChannel1) {\n\t\t\t\treturn channels[0];\n\t\t\t}\n\t\t\telse {\n\t\t\t\tvar channel: Asset;\n\t\t\t\tvar asset: Asset;\n\t\t\t\tfor (var i = 0, len = channels.length; i < len; i++) {\n\t\t\t\t\tchannel = channels[i];\n\t\t\t\t\tif (!channel.getAttribute('playing')) {\n\t\t\t\t\t\treturn channel;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t//If we reach here, then all channels are already in use..\n\t\t\t//just return the main channel.\n\t\t\treturn channels[0];\n\t\t}\n\t\telse {\n\t\t\tthis._warnMissingAudio(name);\n\t\t\treturn null;\n\t\t}\n\t}\n\n\t/**\n\t * protected _getData\n\t *\n\t *\tGets the asset's data.\n\t * \n\t * @param  {Asset} audio \n\t * @return {Object}       \n\t */\n\tprotected _getData(audio: Asset): Object /* TODO, Fix return type */ {\n\t\treturn audio.getData();\n\t}\n\n\t/**\n\t * protected _attachStartEvent\n\t *\n\t * \tAttaches the start event on an asset.\n\t * \n\t * @param  {Asset} asset \n\t * @return {void}       \n\t */\n\tprotected _attachStartEvent(asset: Asset): void {\n\t\tif (!asset.getAttribute('startEvent')) {\n\t\t\tthis._registerStartEvent(asset);\n\t\t\tasset.setAttribute('startEvent', true);\n\t\t}\n\t}\n\n\t/**\n\t * protected _attachEndEvent\n\t *\n\t *\tAttaches the end event on an asset.\n\t * \n\t * @param  {Asset} asset \n\t * @return {void}       \n\t */\n\tprotected _attachEndEvent(asset: Asset): void {\n\t\tif (!asset.getAttribute('endEvent')) {\n\t\t\tthis._registerEndEvent(asset);\n\t\t\tasset.setAttribute('endEvent', true);\n\t\t}\n\t}\n\n\t/**\n\t * protected _registerEvents\n\t *\n\t *\tAttaches all mandatory events on each channel.\n\t * \n\t * @param  {Array(Of Asset)} channelArray \n\t * @return {void}              \n\t */\n\tprotected _registerEvents(channelArray: Asset[]): void {\n\t\tvar channel: Asset;\n\t\tfor (var i = 0, len = channelArray.length; i < len; i++) {\n\t\t\tchannel = channelArray[i];\n\t\t\tthis._attachStartEvent(channel);\n\t\t\tthis._attachEndEvent(channel);\n\t\t}\n\t}\n\n\t/**\n\t * protected abstract _playAudio\n\t *\n\t *\tThe logic to play audio. Must be implemented by subclasses.\n\t * \n\t * @param  {Asset} audio \n\t * @return {void}       \n\t */\n\tprotected abstract _playAudio(audio: Asset): void;\n\t\n\t/**\n\t * protected abstract _pauseAudio\n\t *\n\t *\tThe logic to pause audio. Must be implemented by subclasses.\n\t * \n\t * @param  {Asset} audio \n\t * @return {void}       \n\t */\n\tprotected abstract _pauseAudio(audio: Asset): void;\n\t\n\t/**\n\t * protected abstract _stopAudio\n\t *\n\t *\tThe logic to stop audio. Must be implemented by subclasses.\n\t * \n\t * @param  {Asset} audio \n\t * @return {void}       \n\t */\n\tprotected abstract _stopAudio(audio: Asset): void;\n\n\t/**\n\t * protected abstract _isAudioLooping\n\t *\n\t *\tThe logic to check for audio looping.\n\t *\tReturn true, if audio is looping.\n\t *\tMust be implemented by subclasses.\n\t * \n\t * @param  {Asset}  audio \n\t * @return {Boolean}       \n\t */\n\tprotected abstract _isAudioLooping(audio: Asset): boolean;\n\n\t/**\n\t * protected abstract _loopAudio\n\t *\n\t *\tThe logic to enable audio looping.\n\t *\tMust be implemented by subclasses.\n\t * \n\t * @param  {Asset} audio \n\t * @param  {Boolean} state \n\t * @return {void}       \n\t */\n\tprotected abstract _loopAudio(audio: Asset, state: boolean): void;\n\n\t/**\n\t * protected abstract _isAudioMuted\n\t *\n\t *\tThe logic to check for muted audio.\n\t *\tReturns true if audio is muted.\n\t *\tMust be implemented by subclasses.\n\t * \n\t * @param  {Asset}  audio \n\t * @return {Boolean}       \n\t */\n\tprotected abstract _isAudioMuted(audio: Asset): boolean;\n\n\t/**\n\t * protected abstract _muteAudio\n\t *\n\t *\tThe logic to mute audio.\n\t *\tMust be implemented by subclasses.\n\t * \n\t * @param  {Asset} audio \n\t * @param  {Boolean} state \n\t * @return {void}       \n\t */\n\tprotected abstract _muteAudio(audio: Asset, state: boolean): void;\n\n\t/**\n\t * protected abstract _getAudioDuration\n\t *\n\t *\tThe logic to get the total duration of an audio asset.\n\t *\tMust be implemented by subclasses.\n\t * \n\t * @param  {Asset} audio \n\t * @return {Float}       \n\t */\n\tprotected abstract _getAudioDuration(audio: Asset): number;\n\n\t/**\n\t * protected abstract _setTimeCursor\n\t *\n\t *\tThe logic to set the current time played of an audio asset.\n\t *\tMust be implemented by subclasses.\n\t * \n\t * @param {Asset} audio   \n\t * @param {Float} seconds \n\t */\n\tprotected abstract _setTimeCursor(audio: Asset, seconds: number): void;\n\n\t/**\n\t * protected abstract _getTimeCursor\n\t *\n\t *\tThe logic to get the current time playing of an audio asset,\n\t *\tin seconds.\n\t *\tMust be implemented by subclasses.\n\t * \n\t * @param  {Asset} audio \n\t * @return {Float}       \n\t */\n\tprotected abstract _getTimeCursor(audio: Asset): number;\n\n\t/**\n\t * protected abstract _setVolume\n\t *\n\t *\tThe logic to set the volume of an audio asset.\n\t *\tMust be implemented by subclasses.\n\t * \n\t * @param {Asset} audio  \n\t * @param {Float} volume \n\t */\n\tprotected abstract _setVolume(audio: Asset, volume: number): void;\n\n\t/**\n\t * protected abstract _getVolume\n\t *\n\t *\tThe logic to get the volume of an audio asset.\n\t * \n\t * @param  {Asset} audio \n\t * @return {Float}       \n\t */\n\tprotected abstract _getVolume(audio: Asset): number;\n\n\t/**\n\t * protected abstract _registerStartEvent\n\t *\n\t *\tThe logic for registering a callback mechanism for when audio\n\t *\tbegins playing. This callback should set tehe playing attribute\n\t *\ton the asset to true.\n\t * \n\t * @param  {Asset} audio \n\t * @return {void}       \n\t */\n\tprotected abstract _registerStartEvent(audio: Asset): void;\n\n\t/**\n\t * protected abstract _registerEndEvent\n\t *\n\t *\tThe logic for registering a callback mechanism for when audio\n\t *\tstops playing. This callback should reset the playing attribute \n\t *\ton the asset to false.\n\t * \n\t * @param  {Asset} audio\n\t * @return {void}       \n\t */\n\tprotected abstract _registerEndEvent(audio: Asset): void;\n}\n\t\n\n\n// WEBPACK FOOTER //\n// /mnt/c/projects/Jiggy.io/src/audio/AudioEngine.ts","export {Asset} from './Asset';\nexport {AssetType} from './AssetType';\nexport {AssetState} from './AssetState';\nexport {AssetFactory} from './AssetFactory';\n\nexport {AssetLoader} from './AssetLoader';\nexport {AudioLoader} from './AudioLoader';\nexport {ImageLoader} from './ImageLoader';\nexport {JSONLoader} from './JSONLoader';\nexport {TextAssetBuilder} from \"./TextAssetBuilder\";\n\nexport {Spritesheet} from './Spritesheet';\nexport {SpritesheetDefinition} from './SpritesheetDefinition';\nexport {Animation} from './Animation';\n\n\n\n// WEBPACK FOOTER //\n// /mnt/c/projects/Jiggy.io/src/assets/index.ts","import {IDGenerator} from '../utils/IDGenerator';\nimport {\n\tAssetState,\n\tAssetType,\n\tAssetLoader\n} from './';\n\nexport class Asset {\n\tprivate _id: string;\n\tprivate _type: AssetType;\n\tprivate _data: Object;\n\tprivate _state: AssetState;\n\tprivate _loadStrategy: AssetLoader;\n\tprivate _url: string;\n\tprivate _attributes: {\n\t\t[key: string]: any\n\t}\n\n\t/**\n\t * public constructor Asset\n\t *\n\t *\tRepresents an asset to a game.\n\t * \n\t * @param {zen.assets.AssetFactory.TYPES} type Enumeration\n\t * @param {String} url  Location path.\n\t */\n\tconstructor(type: AssetType, url?: string) {\n\t\tthis._id = IDGenerator.getSingleton().generate();\n\t\tthis._type = type;\n\t\tthis._data = null;\n\t\tthis.setSource(url);\n\t\tthis._attributes = {};\n\t}\n\n\t/**\n\t * public setSource\n\t *\n\t *\tSets the source location path of this asset.\n\t *\tThis will clear the associated data, and set this asset in the\n\t *\tNOT_LOADED state.\n\t * \n\t * @param {String} source \n\t */\n\tpublic setSource(source: string): void {\n\t\tif (source !== this.getSource()) {\n\t\t\tthis._url = source;\n\t\t\tthis.setData(null);\n\t\t\tthis.setState(AssetState.NOT_LOADED);\n\t\t}\n\t}\n\n\t/**\n\t * public getSource\n\t *\n\t *\tReturns the source location path of this asset.\n\t * \n\t * @return {String} \n\t */\n\tpublic getSource(): string {\n\t\treturn this._url;\n\t}\n\n\t/**\n\t * public setState\n\t *\n\t *\tSets the state of this asset.\n\t *\n\t * \tTo be used internally only.\n\t * \n\t * @param {zen.assets.Asset Enumeration} state \n\t */\n\tpublic setState(state: AssetState): void {\n\t\tif (this._state !== state) {\n\t\t\tthis._state = state;\n\t\t\tthis.onStateChange(this._state);\n\t\t}\n\t}\n\n\t/**\n\t * public getState\n\t *\n\t *\tReturns the state of this asset.\n\t * \t\n\t * @return {zen.assets.Asset Enumeration}\n\t */\n\t public getState(): AssetState {\n\t \treturn this._state;\n\t }\n\n\t /**\n\t * public setData\n\t *\n\t * \tSets the data for this asset.\n\t * \n\t * @param {Mixed} data \n\t */\n\tpublic setData(data: Object): void {\n\t\tthis._data = data;\n\t\tthis.onDataChange(this._data);\n\t}\n\n\t/**\n\t * public getData\n\t *\n\t *\tGets the asset data.\n\t * \n\t * @return {Mixed} \n\t */\n\tpublic getData(): any {\n\t\treturn this._data;\n\t}\n\n\t/**\n\t * public getType\n\t *\n\t *\tGet the type of this asset.\n\t * \n\t * @return {zen.assets.AssetFactory.TYPES} Enumeration\n\t */\n\tpublic getType(): AssetType {\n\t\treturn this._type;\n\t}\n\n\t/**\n\t * public setLoadStrategy\n\t *\n\t *\tSets the strategy class to be used for loading\n\t * \n\t * @param {zen.assets.AssetLoader} loadStrategy \n\t */\n\tpublic setLoadStrategy(loadStrategy: AssetLoader): void {\n\t\tthis._loadStrategy = loadStrategy;\n\t}\n\n\t/**\n\t * public getLoadStrategy\n\t *\n\t *\tGets the strategy class used for loading.\n\t * \n\t * @return {zen.assets.AssetLoader} \n\t */\n\tpublic getLoadStrategy(): AssetLoader {\n\t\treturn this._loadStrategy;\n\t}\n\n\t/**\n\t * public load\n\t *\n\t *\tLoads the asset data.\n\t *\n\t * \tUse onDataChange hook method to get notified when data has\n\t * \tfinished loading.\n\t * \n\t * @return {void} \n\t */\n\tpublic load(): void {\n\t\tthis._loadStrategy.load(this);\n\t}\n\n\t/**\n\t * public isReady\n\t *\n\t *\tChecks to see if the data has been loaded on this asset.\n\t * \n\t * @return {Boolean}\n\t */\n\tpublic isReady(): boolean {\n\t\treturn (this.getState() === AssetState.LOADED);\n\t}\n\n\t/**\n\t * public setAttribute\n\t *\n\t *\tSets data details for this asset.\n\t * \n\t * @param {String} key   \n\t * @param {Object} value \n\t */\n\tpublic setAttribute(key: string, value: any): void {\n\t\tthis._attributes[key] = value;\n\t}\n\n\t/**\n\t * public getAttribute\n\t *\n\t *\tGets data details from this asset.\n\t * \n\t * @param  {String} key \n\t * @return {Object}     \n\t */\n\tpublic getAttribute(key: string): any {\n\t\treturn this._attributes[key];\n\t}\n\n\t/**\n\t * public isAttribute\n\t *\n\t *\tChecks for existance of a data detail on this asset.\n\t * \n\t * @param  {String}  key \n\t * @return {Boolean}     \n\t */\n\tpublic isAttribute(key: string): boolean {\n\t\treturn !!this._attributes[key];\n\t}\n\n\t/**\n\t * public removeAttribute\n\t *\n\t *\tRemoves a data attribute from this asset.\n\t * \n\t * @param  {String} key \n\t * @return {void}     \n\t */\n\tpublic removeAttribute(key: string): void {\n\t\tdelete this._attributes[key];\n\t}\n\n\t/**\n\t * public hook onStateChange\n\t *\n\t * \tInvoked when state changes.\n\t * \n\t * @param  {zen.assets.Asset Enumeration} state Possible values:\n\t *                                        \t\t\tzen.assets.Asset.NOT_LOADED\n\t *                                        \t\t\tzen.assets.Asset.LOADING\n\t *                                        \t\t\tzen.assets.Asset.LOADED\n\t * @return {void}       \n\t */\n\tpublic onStateChange(state: AssetState): void {}\n\n\t/**\n\t * public onDataChange\n\t *\n\t *\tInvoked when data changes.\n\t * \n\t * @param  {Mixed} data Must be prepared to handle null.\n\t * @return {void}      \n\t */\n\tpublic onDataChange(data: Object): void {}\n\n\t/**\n\t * public onError\n\t *\n\t *\tInvoked when there was an error while loading asset data.\n\t * \n\t * @param  {Object} error \n\t * @return {void}       \n\t */\n\tpublic onError(error?: Object): void {}\n}\n\n\n\n// WEBPACK FOOTER //\n// /mnt/c/projects/Jiggy.io/src/assets/Asset.ts","export enum AssetType {\n\tRAW,\n\tIMAGE,\n\tAUDIO,\n\tJSON\n}\n\n\n// WEBPACK FOOTER //\n// /mnt/c/projects/Jiggy.io/src/assets/AssetType.ts","export enum AssetState {\n\tNOT_LOADED,\n\tLOADING,\n\tLOADED\n}\n\n\n// WEBPACK FOOTER //\n// /mnt/c/projects/Jiggy.io/src/assets/AssetState.ts","import {\n\tAssetLoader,\n\tAudioLoader,\n\tImageLoader,\n\tJSONLoader,\n\tAsset,\n\tAssetState,\n\tAssetType\n} from './';\n\ninterface AssetCache {\n\t[url: string]: Asset;\n}\n\nexport class AssetFactory {\n\tprivate _assetLoader: AssetLoader;\n\tprivate _audioLoader: AudioLoader;\n\tprivate _imageLoader: ImageLoader;\n\tprivate _jsonLoader: JSONLoader;\n\tprivate _cache: AssetCache;\n\tprivate static _instance: AssetFactory;\n\n\tconstructor() {\n\t\tif (AssetFactory._instance) {\n\t\t\tthrow new Error('AssetFactory is a singleton. Use AssetFactory.getSingleton()');\n\t\t}\n\n\t\tAssetFactory._instance = this;\n\n\t\tthis._assetLoader = new AssetLoader();\n\t\tthis._audioLoader = new AudioLoader();\n\t\tthis._imageLoader = new ImageLoader();\n\t\tthis._jsonLoader = new JSONLoader();\n\t\tthis._cache = {};\n\t}\n\n\tpublic static getSingleton(): AssetFactory {\n\t\tif (!AssetFactory._instance) {\n\t\t\tnew AssetFactory();\n\t\t}\n\t\treturn AssetFactory._instance;\n\t}\n\n\t/**\n\t * public build\n\t *\n\t *\tBuilds an asset of the given type.\n\t *\tSee zen.assets.AssetFactory.TYPES enumeration.\n\t * \n\t * @param  {zen.assets.AssetFactory.TYPES} type \n\t * @param  {String} url  \n\t * @return {zen.assets.Asset}      \n\t */\n\tpublic build(type: AssetType, url: string): Asset {\n\t\tvar asset: Asset;\n\t\tvar cache: Asset = this._cache[url];\n\t\tif (cache) {\n\t\t\tasset = this._clone(cache);\n\t\t}\n\t\telse {\n\t\t\tasset = new Asset(type, url);\n\t\t}\n\n\t\tif (!cache) {\n\t\t\tswitch(type) {\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t\tcase AssetType.RAW:\n\t\t\t\t\tasset.setLoadStrategy(this._assetLoader);\n\t\t\t\t\tthis._configureRawAsset(asset, url);\n\t\t\t\t\tbreak;\n\t\t\t\tcase AssetType.IMAGE:\n\t\t\t\t\tasset.setLoadStrategy(this._imageLoader);\n\t\t\t\t\tthis._configureImageAsset(asset, url);\n\t\t\t\t\tbreak;\n\t\t\t\tcase AssetType.AUDIO:\n\t\t\t\t\tasset.setLoadStrategy(this._audioLoader);\n\t\t\t\t\tthis._configureAudioAsset(asset, url);\n\t\t\t\t\tbreak;\n\t\t\t\tcase AssetType.JSON:\n\t\t\t\t\tasset.setLoadStrategy(this._jsonLoader);\n\t\t\t\t\tthis._configureJSONAsset(asset, url);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tthis._cache[url] = asset;\n\t\t}\n\n\t\treturn asset;\n\t}\n\n\t/**\n\t * protected _configureRawAsset\n\t *\n\t *\tSets up specific asset details for Raw type assets.\n\t * \n\t * @param  {zen.assets.Asset} asset \n\t * @param  {String} url   \n\t * @return {void}       \n\t */\n\tprotected _configureRawAsset(asset: Asset, url: string): void {}\n\n\t/**\n\t * protected _configureImageAsset\n\t *\n\t *\tSets up specific asset details for Image type assets.\n\t * \n\t * @param  {zen.assets.Asset} asset \n\t * @param  {String} url   \n\t * @return {void}       \n\t */\n\tprotected _configureImageAsset(asset: Asset, url: string): void {\n\t\tvar img: HTMLImageElement = document.createElement('img');\n\t\timg.addEventListener('load', function() {\n\t\t\tasset.setState(AssetState.LOADED);\n\t\t});\n\t\tasset.setData(img);\n\t}\n\n\t/**\n\t * protected _configureJSONAsset\n\t *\n\t *\tSets up specific asset details for JSON type assets.\n\t * \n\t * @param  {zen.assets.Asset} asset \n\t * @param  {String} url   \n\t * @return {void}       \n\t */\n\tprotected _configureJSONAsset(asset: Asset, url: string): void {}\n\n\t/**\n\t * protected _configureAudioAsset\n\t *\n\t *\tSets up specific asset details for Audio type assets.\n\t * \n\t * @param  {zen.assets.Asset} asset \n\t * @param  {String} url\n\t * @return {void}       \n\t */\n\tprotected _configureAudioAsset(asset: Asset, url: string): void {\n\t\tvar audio: HTMLAudioElement = document.createElement('audio');\n\t\taudio.addEventListener('canplaythrough', function() {\n\t\t\tasset.setState(AssetState.LOADED);\n\t\t});\n\t\tasset.setData(audio);\n\t}\n\n\t/**\n\t * protected _clone\n\t *\n\t *\tClones a given asset.\n\t * \n\t * @param  {zen.assets.Asset} asset \n\t * @return {void}       \n\t */\n\tprotected _clone(asset: Asset): Asset {\n\t\tvar type: AssetType = asset.getType();\n\t\tvar clone = new Asset(type, asset.getSource());\n\t\tthis._cloneAssetData(clone, asset, type);\n\t\treturn clone;\n\t}\n\n\t/**\n\t * protected _cloneAssetData\n\t *\n\t *\tCan be overridden, but subclasses should always call this as a super\n\t *\tmethod. Provides implementation to cloning each specific type of asset.\n\t * \n\t * @param  {zen.assets.Asset} clone The clone\n\t * @param  {zen.assets.Asset} asset The original\n\t * @param  {Enumeration} type  \n\t * @return {void}       \n\t */\t\n\tprotected _cloneAssetData(clone: Asset, asset: Asset, type: AssetType): void {\n\t\tvar data: any = null;\n\t\tswitch(type) {\n\t\t\tdefault:\n\t\t\t\tdata = asset.getData();\n\t\t\t\tbreak;\n\t\t\tcase AssetType.IMAGE:\n\t\t\t\tdata = this._cloneNode(<Node>asset.getData());\n\t\t\t\tbreak;\n\t\t\tcase AssetType.AUDIO:\n\t\t\t\tdata = this._cloneNode(<Node>asset.getData());\n\t\t\t\tbreak;\n\t\t}\n\n\t\tclone.setLoadStrategy(asset.getLoadStrategy());\n\t\tclone.setData(data);\n\t}\n\n\t/**\n\t * protected _cloneNode\n\t *\n\t *\tClones a node style asset.\n\t * \n\t * @param  {HTMLDomElement} node \n\t * @return {HTMLDomElement}      a clone\n\t */\n\tprotected _cloneNode(node: Node): Node {\n\t\tif (node) {\n\t\t\treturn node.cloneNode(true);\n\t\t}\n\t\telse {\n\t\t\treturn null;\n\t\t}\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// /mnt/c/projects/Jiggy.io/src/assets/AssetFactory.ts","import {\n\tAsset,\n\tAssetState\n} from './';\n\nexport class AssetLoader {\n\n\tconstructor() {}\n\n\t/**\n\t * public load\n\t *\n\t *\tLoads the given asset's data.\n\t * \n\t * @param  {Asset} asset \n\t * @return {void}       \n\t */\n\tpublic load(asset: Asset): void {\n\t\tvar request: XMLHttpRequest = new XMLHttpRequest();\n\t\tvar source = asset.getSource();\n\t\tif (this._validateURL(source)) {\n\t\t\trequest.open(this._getMethod(), asset.getSource());\n\t\t\tasset.setState(AssetState.LOADING);\n\t\t\trequest.onreadystatechange = (e: Event) => {\n\t\t\t\tif (request.readyState === XMLHttpRequest.DONE) {\n\t\t\t\t\tif (request.status === 200) {\n\t\t\t\t\t\tthis._onSuccess(asset, request.responseText);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tthis._onFail(asset, request);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis._postRequest();\n\t\t\t};\n\t\t\tthis._preRequest();\n\t\t\trequest.send();\n\t\t}\n\t\telse {\n\t\t\tthis._onSuccess(asset, source);\n\t\t}\n\t}\n\n\t/**\n\t\tClones the asset data to another asset.\n\t*/\n\tpublic clone(asset: Asset, clone: Asset): void {\n\t\tclone.setData(asset.getData());\n\t}\n\n\t/**\n\t * protected _validateURL\n\t *\n\t *\tChecks to see if the URL is valid to be used\n\t *\tin a request. Returns true if valid, false otherwise.\n\t * \n\t * @param  {String} url\n\t * @return {Boolean}  \n\t */\n\tprotected _validateURL(url: string): boolean {\n\t\t//check the first 5 non-whitespace characters.\n\t\t//for a data url.\n\t\turl = url.trim();\n\t\tvar type: string = url.substring(0, 5);\n\t\tif (type === 'data:') {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * protected _getMethod\n\t *\n\t *\tReturns the method type to be used in a HTTP\n\t *\trequest. May be overrided.\n\t * \n\t * @return {String}\n\t */\n\tprotected _getMethod(): string {\n\t\treturn 'GET';\n\t}\n\n\t/**\n\t * protected _preRequest\n\t *\n\t *\tInvoked just before the request has been sent.\n\t * \n\t * @return {void} \n\t */\n\tprotected _preRequest(): void {}\n\n\t/**\n\t * _postRequest\n\t * \n\t * Invoked when the request has been completed,\n\t * but after the default actions has been executed.\n\t * \n\t * @return {void} \n\t */\n\tprotected _postRequest(): void {}\n\n\t/**\n\t * protected _onSuccess\n\t *\n\t * \tInvoked when the request has been completed\n\t * \tsuccessfully.\n\t * \n\t * @param  {Asset} asset \n\t * @param  {Mixed} data  \n\t * @return {void}       \n\t */\n\tprotected _onSuccess(asset: Asset, data: Object): void {\n\t\tasset.setData(data);\n\t}\n\n\t/**\n\t * protected _onFail\n\t *\n\t *\tInvoked when the request has returned an error.\n\t * \n\t * @param  {Asset} asset   \n\t * @param  {XMLHttpRequest} request\n\t * @return {void}         \n\t */\n\tprotected _onFail(asset: Asset, request: XMLHttpRequest): void {\n\t\tasset.onError({\n\t\t\tcode : request.status,\n\t\t\tmessage : 'Generic Error Message'\n\t\t});\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// /mnt/c/projects/Jiggy.io/src/assets/AssetLoader.ts","import {\n\tAsset,\n\tAssetLoader,\n\tAssetState\n} from './';\n\nexport class AudioLoader extends AssetLoader {\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\t/**\n\t * public load\n\t *\n\t * See AssetLoader for more details.\n\t * \n\t * @param  {Asset} asset \n\t * @return {void}       \n\t */\n\tload(asset: Asset): void {\n\t\tasset.setState(AssetState.LOADING);\n\t\tvar audio: HTMLAudioElement = <HTMLAudioElement>asset.getData();\n\t\taudio.setAttribute('preload', 'auto');\n\t\tthis._assignEvents(asset, audio);\n\t\taudio.src = asset.getSource();\n\t}\n\n\t/**\n\t * private _assignEvents\n\t *\n\t *\tInitializes all event hooks required to handle\n\t *\taudio assets.\n\t * \n\t * @param  {Asset} asset \n\t * @param  {HTMLAudioElement} audio \n\t * @return {void}       \n\t */\n\tprivate _assignEvents(asset: Asset, audio: HTMLAudioElement): void {\n\t\tvar canPlay = (e: Event) => {\n\t\t\tasset.setData(audio);\n\t\t\taudio.removeEventListener('canplaythrough', canPlay);\n\t\t};\n\t\taudio.addEventListener('canplaythrough', canPlay);\n\t\taudio.addEventListener('error', () => {\n\t\t\tasset.onError();\n\t\t});\n\t\taudio.addEventListener('playing', () => {\n\t\t\tasset.setAttribute('playing', true);\n\t\t});\n\t\taudio.addEventListener('ended', () => {\n\t\t\taudio.currentTime = 0;\n\t\t\tasset.setAttribute('playing', false);\n\t\t});\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// /mnt/c/projects/Jiggy.io/src/assets/AudioLoader.ts","import {\n\tAsset,\n\tAssetLoader,\n\tAssetState\n} from './';\n\nexport class ImageLoader extends AssetLoader {\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\t/**\n\t * public load\n\t *\n\t *\tSee AssetLoader.load for more details.\n\t * \n\t * @param  {Asset} asset \n\t * @return {void}       \n\t */\n\tpublic load(asset: Asset): void {\n\t\tasset.setState(AssetState.LOADING);\n\t\tvar image: HTMLImageElement = <HTMLImageElement>asset.getData();\n\t\timage.onload = (e: Event) => {\n\t\t\tasset.setData(image);\n\t\t};\n\t\timage.onerror = (e: Event) => {\n\t\t\tasset.onError();\n\t\t};\n\t\timage.src = asset.getSource();\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// /mnt/c/projects/Jiggy.io/src/assets/ImageLoader.ts","import {\n\tAsset,\n\tAssetLoader\n} from './';\n\nexport class JSONLoader extends AssetLoader {\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\t/**\n\t * protected _onSuccess\n\t *\n\t *\tSee zen.assets.AssetLoader._onSuccess for more details.\n\t * \n\t * @param  {Asset} asset \n\t * @param  {Stringified JSON} data  \n\t * @return {void}       \n\t */\n\tprotected _onSuccess(asset: Asset, data: Object): void {\n\t\tvar json: string = <string>data;\n\t\tasset.setData(JSON.parse(json));\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// /mnt/c/projects/Jiggy.io/src/assets/JSONLoader.ts","import {Asset, AssetType} from \"./\";\r\nimport {ViewPort} from \"../utils/\";\r\n\r\nexport class  TextAssetBuilder {\r\n\tpublic build (font: string, text: string, maxWidth: number, height: number, color: string) : Asset {\r\n\t\tvar textViewPort : ViewPort = new ViewPort();\r\n\t\tvar textAsset : Asset = new Asset(AssetType.IMAGE);\r\n\r\n\t\ttextViewPort.setFont(font);\r\n\t\ttextViewPort.setColor(color || \"green\");\r\n\t\ttextViewPort.setTextBaseline(\"hanging\");\r\n\r\n\t\tif (!maxWidth) {\r\n\t\t\tmaxWidth = textViewPort.measureText(text).width;\r\n\t\t}\r\n\r\n\t\ttextViewPort.size = ({width: maxWidth, height});\r\n\t\ttextViewPort.setFont(font);\r\n\t\ttextViewPort.setColor(color);\r\n\t\ttextViewPort.setTextBaseline(\"hanging\");\r\n\r\n\t\ttextViewPort.drawText(text, 0, 0, maxWidth);\r\n\r\n\t\ttextAsset.setData(textViewPort.getImage());\r\n\r\n\t\t// delete textViewPort;\r\n\r\n\t\treturn textAsset;\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// /mnt/c/projects/Jiggy.io/src/assets/TextAssetBuilder.ts","import {ViewPort} from \"../utils/ViewPort\";\r\nimport {\r\n\tAsset,\r\n\tAssetType,\r\n\tSpritesheetDefinition\r\n} from './';\r\n\r\nexport class Spritesheet {\r\n\tprivate _spritesheetAsset : Asset;\r\n\tprivate _spritesheetDefinition : {[key: string] : SpritesheetDefinition};\r\n\tprivate _spriteCache : {[key: string] : Asset};\r\n\r\n\tconstructor (spritesheetAsset: Asset, spritesheetDefinition: {[key: string] : SpritesheetDefinition}) {\r\n\t\tthis._spritesheetAsset = spritesheetAsset; //The asset for the entire spritesheet\r\n\t\tthis._spritesheetDefinition = spritesheetDefinition; //Definitions for sprites to coordinates\r\n\t\tthis._spriteCache = {}; //A cache of sprites images\r\n\t}\r\n\r\n\tgetSprite (id: string) : any {\r\n\t\tif (this._spriteCache[id]) {\r\n\t\t\treturn this._spriteCache[id];\r\n\t\t} else if (this._spritesheetDefinition[id]) {\r\n\t\t\tvar def = this._spritesheetDefinition[id];\r\n\r\n\t\t\t//Create an Image for this Sprite\r\n\r\n\r\n\t\t\tvar spriteViewPort = new ViewPort();\r\n\t\t\tthis._spriteCache[id] = new Asset(AssetType.IMAGE);\r\n\t\t\tspriteViewPort.size = {width: def.width, height: def.height};\r\n\t\t\tspriteViewPort.context.translate(def.flipX === true ? def.width : 0, def.flipY === true ? def.height : 0)\r\n\t\t\tspriteViewPort.setScale({width: def.flipX === true ? -1 : 1, height: def.flipY === true ? -1 : 1});\r\n\t\t\tspriteViewPort.drawImage(this._spritesheetAsset.getData(), def.x, def.y, def.width, def.height, 0, 0, def.width, def.height);\r\n\t\t\tthis._spriteCache[id].setData(spriteViewPort.getImage());\r\n\r\n\t\t\treturn this._spriteCache[id];\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// /mnt/c/projects/Jiggy.io/src/assets/Spritesheet.ts","import {\r\n\tLogManager,\r\n\tSeverityEnum\r\n} from '../utils/';\r\nimport {Entity} from \"../entities/Entity\";\r\nimport {Spritesheet} from \"./Spritesheet\";\r\nimport {Asset} from \"./\";\r\n\r\nexport class Animation {\r\n\tpublic loop : boolean;\r\n\tpublic reverseLoop : boolean;\r\n\r\n\tprivate _entity : Entity;\r\n\tprivate _animationDefinition : AnimationFrame[];\r\n\tprivate _direction : string;\r\n\tprivate _animating : boolean;\r\n\tprivate _animation_index : number;\r\n\tprivate timeout: any;\r\n\r\n\tconstructor (entity: Entity, animationDefinitions: AnimationFrame[]) {\r\n\t\tthis._entity = entity; //Entity to do the animation\r\n\t\tthis._animationDefinition = animationDefinitions; //Definitions for animations\r\n\t\tthis.loop = true;\r\n\t\tthis.timeout = false;\r\n\t\tthis.reverseLoop = false;\r\n\t\tthis._animating = false;\r\n\t\tthis._animation_index = -1;\r\n\t}\r\n\r\n\tpublic isAnimating () : boolean {\r\n\t\treturn this._animating;\r\n\t}\r\n\r\n\tpublic start () : void {\r\n\t\tif (!this.timeout) {\r\n\t\t\tthis._direction = \"forward\";\r\n\t\t\tthis._loadStep(0);\r\n\t\t\tthis._animating = true;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic stop () : void {\r\n\t\tclearTimeout(this.timeout);\r\n\t\tthis.timeout = false;\r\n\t\tthis._animating = false;\r\n\t}\r\n\r\n\tprivate _loadStep (stepIndex: number) : void {\r\n\t\tvar step = this._animationDefinition[stepIndex];\r\n\t\tvar sprite = step.asset;\r\n\t\tthis._entity.texture = sprite;\r\n\t\tthis._entity.width = sprite.getData().width;\r\n\t\tthis._entity.height = sprite.getData().height;\r\n\r\n\t\tvar offset : number = 0;\r\n\r\n\t\tif (step.moveX || (this._direction === \"reverse\" && this._animationDefinition[stepIndex + 1].moveX)) {\r\n\t\t\tif (this._direction === \"reverse\" && this._animationDefinition[stepIndex + 1].moveX) {\r\n\t\t\t\toffset =  0 - this._animationDefinition[stepIndex + 1].moveX;\r\n\t\t\t\tthis._entity.x = (this._entity.x - this._animationDefinition[stepIndex + 1].moveX);\r\n\t\t\t} else {\r\n\t\t\t\toffset =  0 + step.moveX;\r\n\t\t\t\tthis._entity.x = (this._entity.x + step.moveX);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (step.moveY || (this._direction === \"reverse\" && this._animationDefinition[stepIndex + 1].moveY)) {\r\n\t\t\tif (this._direction === \"reverse\" && this._animationDefinition[stepIndex + 1].moveY) {\r\n\t\t\t\tthis._entity.y = (this._entity.y - this._animationDefinition[stepIndex + 1].moveY);\r\n\t\t\t} else {\r\n\t\t\t\tthis._entity.y = (this._entity.y + step.moveY);\r\n\t\t\t}\r\n\t\t}\r\n\t\t// LogManager.getInstance().log(SeverityEnum.INFO, stepIndex + this._direction + offset);\r\n\r\n\t\tvar nextStepIndex : number;\r\n\r\n\t\tif (this._direction === \"reverse\") {\r\n\t\t\tnextStepIndex = stepIndex - 1;\r\n\t\t} else {\r\n\t\t\tnextStepIndex = stepIndex + 1;\r\n\t\t}\r\n\r\n\t\tif (this._animationDefinition[nextStepIndex]) {\r\n\t\t\tthis.timeout = setTimeout(() => {\r\n\t\t\t\tthis._loadStep(nextStepIndex)\r\n\t\t\t}, step.delay);\r\n\t\t} else if (this.reverseLoop) {\r\n\t\t\tthis.timeout = setTimeout(() => {\r\n\t\t\t\tif (this._direction === \"forward\") {\r\n\t\t\t\t\tthis._direction = \"reverse\";\r\n\t\t\t\t\tthis._loadStep(stepIndex - 1);\r\n\t\t\t\t} else if (this._direction === \"reverse\") {\r\n\t\t\t\t\tthis._direction = \"forward\";\r\n\t\t\t\t\tthis._loadStep(stepIndex + 1);\r\n\t\t\t\t}\r\n\t\t\t}, step.delay);\r\n\t\t} else if (this.loop) {\r\n\t\t\tthis.timeout = setTimeout(() => {\r\n\t\t\t\tthis._loadStep(0)\r\n\t\t\t}, step.delay);\r\n\t\t} else {\r\n\t\t\t//Animation Complete\r\n\t\t\tthis.stop();\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport interface AnimationFrame {\r\n\tasset: Asset;\r\n\tdelay:  number;\r\n\tmoveX? : number;\r\n\tmoveY?: number;\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// /mnt/c/projects/Jiggy.io/src/assets/Animation.ts","import {AudioEngine} from './';\nimport {Asset} from '../assets/';\n\nexport class HTML5AudioEngine extends AudioEngine {\n\tprivate _backgroundAudios: Asset[];\n\tprivate _soundEffects: Asset[];\n\tprivate _backgroundVolume: number;\n\tprivate _soundEffectVolume: number;\n\n\tconstructor() {\n\t\tsuper();\n\t\tthis._backgroundVolume = 1.0;\n\t\tthis._soundEffectVolume = 1.0;\n\t\tthis._backgroundAudios = []\n\t\tthis._soundEffects = []\n\t}\n\n\tpublic addBackgroundMusic(name: string, audio: Asset): void {\n\t\tthis.addAudio(name, audio);\n\t\tthis._backgroundAudios.push(audio);\n\t}\n\n\tpublic addSoundEffect(name: string, audio: Asset): void {\n\t\tthis.addAudio(name, audio);\n\t\tthis._soundEffects.push(audio);\n\t}\n\n\tpublic setBackgroundVolume(volume: number): void {\n\t\tthis._backgroundVolume = volume;\n\t\tfor (var i: number = 0, len: number = this._backgroundAudios.length; i < len; i++) {\n\t\t\tthis._setVolume(this._backgroundAudios[i], this._backgroundVolume);\n\t\t}\n\t}\n\n\tpublic setSoundEffectVolume(volume: number): void {\n\t\tthis._soundEffectVolume = volume;\n\t\tfor (var i: number = 0, len: number = this._soundEffects.length; i < len; i++) {\n\t\t\tthis._setVolume(this._soundEffects[i], this._soundEffectVolume);\n\t\t}\n\t}\n\n\tpublic isBackgroundMusic(audio: Asset): boolean {\n\t\treturn (this._backgroundAudios.indexOf(audio) > -1);\n\t}\n\n\tpublic isSoundEffect(audio: Asset): boolean {\n\t\treturn (this._soundEffects.indexOf(audio) > -1);\n\t}\n\n\tprotected _playAudio(audio: Asset): void {\n\t\tthis._updateVolume(audio);\t\n\t\tvar data: HTMLAudioElement = <HTMLAudioElement>this._getData(audio);\n\t\tdata.play();\t\n\t}\n\n\tprivate _updateVolume(audio: Asset): void {\n\t\tif (this.isSoundEffect(audio)) {\n\t\t\tthis._setVolume(audio, this._soundEffectVolume);\n\t\t}\n\t\telse if (this.isBackgroundMusic(audio)) {\n\t\t\tthis._setVolume(audio, this._backgroundVolume);\n\t\t}\n\t}\n\n\tprotected _pauseAudio(audio: Asset): void {\n\t\tvar data: HTMLAudioElement = <HTMLAudioElement>this._getData(audio);\n\t\tdata.pause();\n\t}\n\n\tprotected _stopAudio(audio: Asset): void {\n\t\tvar data: HTMLAudioElement = <HTMLAudioElement>this._getData(audio);\n\t\tdata.pause();\n\t\tthis._setTimeCursor(audio, 0);\n\t}\n\n\tprotected _isAudioLooping(audio: Asset): boolean {\n\t\tvar data: HTMLAudioElement = <HTMLAudioElement>this._getData(audio);\n\t\treturn data.loop;\n\t}\n\n\tprotected _loopAudio(audio: Asset, state: boolean): void {\n\t\tvar data: HTMLAudioElement = <HTMLAudioElement>this._getData(audio);\n\t\tdata.loop = state;\n\t}\n\n\tprotected _isAudioMuted(audio: Asset): boolean {\n\t\tvar data: HTMLAudioElement = <HTMLAudioElement>this._getData(audio);\n\t\treturn data.muted;\n\t}\n\n\tprotected _muteAudio(audio: Asset, state: boolean): void {\n\t\tvar data: HTMLAudioElement = <HTMLAudioElement>this._getData(audio);\n\t\tdata.muted = state;\n\t}\n\n\tprotected _getAudioDuration(audio: Asset): number {\n\t\tvar data: HTMLAudioElement = <HTMLAudioElement>this._getData(audio);\n\t\treturn data.duration;\n\t}\n\n\tprotected _setTimeCursor(audio: Asset, seconds: number): void {\n\t\tvar data: HTMLAudioElement = <HTMLAudioElement>this._getData(audio);\n\t\tdata.currentTime = seconds;\n\t}\n\n\tprotected _getTimeCursor(audio: Asset): number {\n\t\tvar data: HTMLAudioElement = <HTMLAudioElement>this._getData(audio);\n\t\treturn data.currentTime;\n\t}\n\n\tprotected _setVolume(audio: Asset, volume: number): void {\n\t\tvar data: HTMLAudioElement = <HTMLAudioElement>this._getData(audio);\n\t\tdata.volume = volume;\n\t}\n\n\tprotected _getVolume(audio: Asset): number {\n\t\tvar data: HTMLAudioElement = <HTMLAudioElement>this._getData(audio);\n\t\treturn data.volume;\n\t}\n\n\tprotected _registerStartEvent(audio: Asset): void {\n\t\tvar data: HTMLAudioElement = <HTMLAudioElement>audio.getData();\n\t\tdata.addEventListener('playing', function(e: Event) {\n\t\t\taudio.setAttribute('playing', true);\n\t\t});\n\t}\n\n\tprotected _registerEndEvent(audio: Asset): void {\n\t\tvar data: HTMLAudioElement = <HTMLAudioElement>audio.getData();\n\t\tdata.addEventListener('ended', function(e: Event) {\n\t\t\taudio.setAttribute('playing', false);\n\t\t});\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// /mnt/c/projects/Jiggy.io/src/audio/HTML5AudioEngine.ts","export {LogicEngine} from './LogicEngine';\nexport {GroupLogicEngine} from './GroupLogicEngine';\n\nexport {RenderingEngine} from './RenderingEngine';\nexport {TwoDimensionalRenderingEngine} from './TwoDimensionalRenderingEngine';\n\n\n\n// WEBPACK FOOTER //\n// /mnt/c/projects/Jiggy.io/src/engines/index.ts","export abstract class LogicEngine {\r\n\tpublic abstract addLogic (id : string, logicMethod: () => void, interval : number) : void;\r\n\tpublic abstract pauseLogic (id: string) : void;\r\n\tpublic abstract resumeLogic (id: string) : void;\r\n\tpublic abstract removeLogic (id: string) : void;\r\n}\n\n\n// WEBPACK FOOTER //\n// /mnt/c/projects/Jiggy.io/src/engines/LogicEngine.ts","import {LogicEngine} from \"./\";\r\n\r\ninterface LogicCall {\r\n\tmethod: {(): void;};\r\n\tinterval: number;\r\n}\r\n\r\ninterface Interval {\r\n\tmethods: {(): void; }[];\r\n\tinterval_id: any;\r\n}\r\n\r\nexport class GroupLogicEngine extends LogicEngine {\r\n\tprivate _logicCalls : {[key: string]: LogicCall};\r\n\tprivate _intervals : {[key: string]: Interval};\r\n\tprivate _intervalID : string;\r\n\tprivate _interval : number;\r\n\r\n\tconstructor () {\r\n\t\tsuper();\r\n\t\tthis._logicCalls = {};\r\n\t\tthis._intervals = {};\r\n\t\tthis._interval = 10;\r\n\t}\r\n\r\n\tpublic addLogic (id: string, logicMethod : () => {}, interval : number) : void {\r\n\t\tthis._logicCalls[id] = {\r\n\t\t\t'method': logicMethod,\r\n\t\t\t'interval': interval\r\n\t\t};\r\n\r\n\t\tif (!this._hasInterval(interval)) {\r\n\t\t\t//Create the Interval for this Interval of Logic Loop\r\n\t\t\tthis._createInterval(interval);\r\n\t\t}\r\n\r\n\t\tthis._addToInterval(id);\r\n\t}\r\n\r\n\tpublic pauseLogic (id : string) : void {\r\n\t\tthis._removeFromInterval(id);\r\n\t}\r\n\r\n\tpublic resumeLogic (id: string) : void {\r\n\t\tthis._addToInterval(id);\r\n\t}\r\n\r\n\tpublic removeLogic (id: string) : void {\r\n\t\tif (this._logicCalls[id]) {\r\n\t\t\tthis._removeFromInterval(id);\r\n\t\t\tdelete this._logicCalls[id];\r\n\t\t}\r\n\t}\r\n\r\n\tprivate _createInterval (interval : number) : void {\r\n\t\tvar self = this;\r\n\t\tvar methods : {() : void; }[] = [];\r\n\t\tthis._intervals[interval] = {\r\n\t\t\t'methods': methods,\r\n\t\t\t'interval_id': \tsetInterval(() => {\r\n\t\t\t\t\t\t\t\tthis._processInterval(interval);\r\n\t\t\t\t\t\t\t}, interval)\r\n\t\t};\r\n\t}\r\n\r\n\tprivate _hasInterval (interval: number) : boolean {\r\n\t\treturn this._intervals[interval] != undefined;\r\n\t}\r\n\r\n\tprivate _removeInterval (interval: number) : void {\r\n\t\tclearInterval(this._intervals[interval].interval_id);\r\n\t\tdelete this._intervals[interval];\r\n\t}\r\n\r\n\tprivate _addToInterval (id: string) : void {\r\n\t\tthis._intervals[this._logicCalls[id].interval].methods.push(this._logicCalls[id].method);\r\n\t}\r\n\r\n\tprivate _removeFromInterval (id: string) : void {\r\n\t\tvar interval = this._logicCalls[id].interval;\r\n\t\tthis._intervals[interval].methods.splice(this._intervals[interval].methods.indexOf(this._logicCalls[id].method), 1);\r\n\t\t\r\n\t\tif (this._intervals[interval].methods.length === 0) {\r\n\t\t\tthis._removeInterval(interval);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate _processInterval (interval : number) : void {\r\n\t\tfor (var i in this._intervals[interval].methods) {\r\n\t\t\tthis._intervals[interval].methods[i]();\r\n\t\t}\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// /mnt/c/projects/Jiggy.io/src/engines/GroupLogicEngine.ts","import {ViewPort} from \"../utils/ViewPort\";\r\nimport {Entity} from \"../entities/Entity\";\r\nimport {Camera} from \"../utils/Camera\";\r\n\r\nexport class RenderingEngine {\r\n\tpublic viewPort : ViewPort;\r\n\tprotected _prerenderViewPort : ViewPort;\r\n\tprotected _rendering  : boolean;\r\n\tprotected _fps : number;\r\n\tpublic HUDEntity : Entity;\r\n\tprotected _cameras : Camera[];\r\n\tprivate _animationFrameID : number;\r\n\tprivate _frames : number;\r\n\tprivate _lastRender : Date;\r\n\tprivate _showFPS : boolean;\r\n\tpublic debugCamera : boolean;\r\n\r\n\tconstructor () {\r\n\t\tthis._prerenderViewPort = new ViewPort();\r\n\t\tthis._rendering = false;\r\n\t\tthis._fps = 0;\r\n\t\tthis._frames = 0;\r\n\t\tthis._showFPS = true;\r\n\t\tthis._cameras = [];\r\n\t}\r\n\r\n\tpublic addCamera (camera : Camera) : void {\r\n\t\tthis._cameras.push(camera);\r\n\t}\r\n\r\n\tpublic removeCamera (camera : Camera) : void {\r\n\t\tdelete this._cameras[this._cameras.indexOf(camera)];\r\n\t}\r\n\r\n\tpublic startRendering () : boolean {\r\n\t\tif (this.viewPort) {\r\n\t\t\tvar self = this;\r\n\t\t\tthis._rendering = true;\r\n\t\t\tthis._requestFrame();\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\tconsole.warn('Unable to begin rendering, no view port assigned to rendering engine.');\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic stopRendering () : void {\r\n\t\twindow.cancelAnimationFrame(this._animationFrameID);\r\n\t\tthis._animationFrameID = null;\r\n\t\tthis._rendering = false;\r\n\t}\r\n\r\n\tprivate _requestFrame () : void {\r\n\t\tif (this._rendering) {\r\n\t\t\tthis._animationFrameID = window.requestAnimationFrame(() => {\r\n\t\t\t\tthis._render();\r\n\t\t\t\tthis._postRender();\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tprotected _render () : void {\r\n\t\tthis.viewPort.clear();\r\n\t}\r\n\r\n\tprivate _calculateFPS () : void {\r\n\t\tvar date = new Date(); //Get current Date/Time\r\n\r\n\t\tif (this._lastRender) { //If we have a store Date/Time from last rendering\r\n\t\t\tif (this._lastRender.getSeconds() != date.getSeconds()) { //This is a new second, calculate the average FPS for the last second and display it\r\n\t\t\t\t// var avg : number = 0;\r\n\t\t\t\t// var i : any;\r\n\t\t\t\t// for (i in this._frames) {\r\n\t\t\t\t// \tavg += this._frames[i];\r\n\t\t\t\t// }\r\n\t\t\t\tthis._fps = this._frames;\r\n\t\t\t\tthis._frames = 1;\r\n\t\t\t} else { //It's the same second as last render, just add the FPS to an array so we can calculate the Average later\r\n\t\t\t\tthis._frames += 1;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis._lastRender = date;\r\n\t}\r\n\r\n\tprivate _postRender () : void {\r\n\t\t//TODO: Call PostProcessors here\r\n\r\n\t\tif (this._showFPS) {\r\n\t\t\t//Calculate the FPS\r\n\t\t\tthis._calculateFPS();\r\n\r\n\t\t\t//Draw the FPS on the screen\r\n\t\t\tvar ctx = this.viewPort.context;\r\n\t\t\tctx.globalAlpha=0.5;\r\n\t\t\tctx.fillStyle = 'black';\r\n\t\t\tctx.fillRect(0,0,100,35);\r\n\t\t\tctx.globalAlpha=1;\r\n\t\t\tctx.fillStyle = 'white';\r\n\t\t\tctx.font=\"20px Georgia\";\r\n\t\t\tctx.fillText(this._fps + \" FPS\",20,25);\r\n\t\t}\r\n\r\n\t\t//Start request for next frame\r\n\t\tthis._requestFrame();\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// /mnt/c/projects/Jiggy.io/src/engines/RenderingEngine.ts","import {RenderingEngine} from \"./\";\r\nimport {Camera} from \"../utils/Camera\";\r\nimport {Entity} from \"../entities/Entity\";\r\nimport {Iterator} from \"../utils/Iterator\";\r\n\r\nexport class TwoDimensionalRenderingEngine extends RenderingEngine {\r\n\tpublic debugRegions : boolean;\r\n\r\n\tprotected _render () : void {\r\n\t\tsuper._render();\r\n\r\n\t\tvar context = this.viewPort.context;\r\n\r\n\t\t//TODO: Render Cameras in proper order\r\n\t\tfor (var i in this._cameras) {\r\n\t\t\tthis._renderCamera(this._cameras[i])\r\n\t\t}\r\n\r\n\t\t//Render HUD Entity\r\n\t\tif (this.HUDEntity) {\r\n\t\t\tthis._renderEntity(this.HUDEntity, null);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate _renderCamera (camera : Camera) : void {\r\n\t\tvar scene = camera.scene;\r\n\t\tvar context = this.viewPort.context;\r\n\r\n\t\tif (this.debugCamera) {\r\n\t\t\t//For Debugging purposes.. Draw a rect where each camera should be\r\n\t\t\tcontext.beginPath();\r\n\t\t\tcontext.rect(camera.viewPoint.x, camera.viewPoint.y, camera.fov.width, camera.fov.height);\r\n\t\t\tcontext.lineWidth = 7;\r\n\t\t\tcontext.strokeStyle = 'red';\r\n\t\t\tcontext.stroke();\r\n\r\n\t\t\tcontext.beginPath();\r\n\t\t\tcontext.rect(camera.renderOrigin.x, camera.renderOrigin.y, camera.renderDimension.width, camera.renderDimension.height);\r\n\t\t\tcontext.lineWidth = 7;\r\n\t\t\tcontext.fillStyle = 'black';\r\n\t\t\tcontext.fill();\r\n\t\t\tcontext.strokeStyle = 'green';\r\n\t\t\tcontext.stroke();\r\n\t\t}\r\n\r\n\t\tthis._renderEntity(scene, camera);\t\r\n\t}\r\n\r\n\tprivate _renderEntity (entity: Entity, camera? : Camera) : boolean {\r\n\t\t//Render this\r\n\r\n\t\t//First, make sure it's in the camera...  Don't want to waste our time on things that are not..\r\n\t\t//TODO: CLean up this Camera stuff a bit so _renderEntity isn't aware of cameras...\r\n\t\tif (camera) {\r\n\t\t\tvar collidesYAxis = false;\r\n\t\t\tvar collidesXAxis = false;\r\n\r\n\t\t\tvar cameraBounds = {\r\n\t\t\t\tx: camera.viewPoint.x,\r\n\t\t\t\ty: camera.viewPoint.y,\r\n\t\t\t\tx2: camera.viewPoint.x + camera.fov.width,\r\n\t\t\t\ty2: camera.viewPoint.y + camera.fov.height\r\n\t\t\t};\r\n\r\n\t\t\tvar entityBounds = {\r\n\t\t\t\tx: entity.getAbsoluteX(),\r\n\t\t\t\ty: entity.getAbsoluteY(),\r\n\t\t\t\tx2: entity.getAbsoluteX2(),\r\n\t\t\t\ty2: entity.getAbsoluteY2()\r\n\t\t\t};\r\n\r\n\t\t    if ((entityBounds.x < cameraBounds.x2 && entityBounds.x2 > cameraBounds.x)\r\n\t\t        || (entityBounds.x2 > cameraBounds.x && entityBounds.x < cameraBounds.x2)) {\r\n\t\t        collidesXAxis = true;\r\n\t\t    }\r\n\r\n\t\t    if ((entityBounds.y < cameraBounds.y2 && entityBounds.y2 > cameraBounds.y)\r\n\t\t        || (entityBounds.y2 > cameraBounds.y && entityBounds.y < cameraBounds.y2)) {\r\n\t\t         collidesYAxis = true;\r\n\t\t     }\r\n\r\n\r\n\t\t\t//We'll check to see if the entity collides in the cameras x and y axis, if both, it's visible.\r\n\t\t\tif (!collidesYAxis || !collidesXAxis) {\r\n\t\t\t\t// console.log(\"Found an entity outside the cameras view, ignoring!\", entity);\r\n\t\t\t\t//Not visible in the camera, do not continue rendering this entity or it's children\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\t// if (entity.collectTextures().length > 0) {\r\n\t\t\t\r\n\t\t\t//Next, we figure out what parts of it are in the camera, so we can clip it if need be\r\n\t\t\t//Check for Left Clip\r\n\t\t\tvar leftClip = 0;\r\n\t\t\tif (entity.getAbsoluteX() < camera.viewPoint.x) {\r\n\t\t\t\tleftClip = camera.viewPoint.x - entity.getAbsoluteX();\r\n\t\t\t}\r\n\t\t\t// console.log(\"Left Clip\", leftClip);\r\n\r\n\t\t\t//Check for Right Clip\r\n\t\t\tvar rightClip = 0;\r\n\t\t\tif (entity.getAbsoluteX2() > (camera.viewPoint.x + camera.fov.width)) {\r\n\t\t\t\trightClip = entity.getAbsoluteX2() - (camera.viewPoint.x + camera.fov.width);\r\n\t\t\t}\r\n\t\t\t// console.log(\"Right Clip\", rightClip);\r\n\r\n\t\t\t//Check for Top Clip\r\n\t\t\tvar topClip = 0;\r\n\t\t\tif (entity.getAbsoluteY() < camera.viewPoint.y) {\r\n\t\t\t\ttopClip = camera.viewPoint.y - entity.getAbsoluteY();\r\n\t\t\t}\r\n\t\t\t// console.log(\"Top Clip\", topClip);\r\n\r\n\r\n\t\t\t//Check for Bottom Clip\r\n\t\t\tvar bottomClip = 0;\r\n\t\t\tif (entity.getAbsoluteY2() > (camera.viewPoint.y + camera.fov.height)) {\r\n\t\t\t\tbottomClip = entity.getAbsoluteY2() - (camera.viewPoint.y + camera.fov.height);\r\n\t\t\t}\r\n\t\t\t// console.log(\"Bottom Clip\", bottomClip);\r\n\r\n\t\t\t//Now we figure out how to skew the rendering, since the render dimensions of the camera may not match it's fov\r\n\t\t\tvar xModifier = camera.fov.width / camera.renderDimension.width;\r\n\t\t\tvar yModifier = camera.fov.height / camera.renderDimension.height;\r\n\r\n\t\t\tvar cameraRelativeY = (entityBounds.y - cameraBounds.y) / yModifier;\r\n\t\t\tif (cameraRelativeY < 0) {\r\n\t\t\t\tcameraRelativeY = 0;\r\n\t\t\t}\r\n\r\n\t\t\tvar cameraRelativeX = (entityBounds.x - cameraBounds.x) / xModifier;\r\n\t\t\tif (cameraRelativeX < 0) {\r\n\t\t\t\tcameraRelativeX = 0;\r\n\t\t\t}\r\n\r\n\t\t\tvar clippedEntityHeight = (entity.height - topClip - bottomClip);\r\n\t\t\tvar clippedEntityWidth = (entity.width - rightClip - leftClip);\r\n\r\n\t\t\tvar x = camera.renderOrigin.x + cameraRelativeX;\r\n\t\t\tvar y = camera.renderOrigin.y + cameraRelativeY;\r\n\t\t\tvar w = clippedEntityWidth / xModifier;\r\n\t\t\tvar h = clippedEntityHeight / yModifier;\r\n\r\n\t\t\t//Rendering time!\r\n\t\t\tif (entity.color){\r\n\t\t\t\t//Draw a rect in its place...\r\n\t\t\t\tvar color = entity.color;\r\n\t\t\t\tthis.viewPort.context.fillStyle = \"rgb(\" + color.r + \", \" + color.g + \", \" + color.b + \")\";\r\n\t\t\t\tthis.viewPort.context.fillRect(x, y, w, h);\r\n\t\t\t}\r\n\r\n\t\t\t//Debug Flag\r\n\t\t\tif (this.debugRegions) {\r\n\t\t\t\tfor (var x_i in entity.regions) {\r\n\t\t\t\t\tfor (var y_i in entity.regions[x]) {\r\n\t\t\t\t\t\tif (entity.regions[x_i][y_i].length > 0) { \r\n\t\t\t\t\t\t\t// this._viewPort.context.fillStyle = \"rgb(\" + Math.floor((Math.random() * 255) + 1) + \",\" + Math.floor((Math.random() * 255) + 1) + \",\" + Math.floor((Math.random() * 255) + 1) + \")\";\r\n\t\t\t\t\t\t\tthis.viewPort.context.strokeStyle = \"red\";\r\n\t\t\t\t\t\t\tthis.viewPort.context.strokeRect(entity.getAbsoluteX() + entity.regionDimension.width * parseInt(x_i), entity.getAbsoluteY() + entity.regionDimension.height * parseInt(y_i), entity.regionDimension.width, entity.regionDimension.height);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// Math.floor((Math.random() * 255) + 1), Math.floor((Math.random() * 255) + 1), Math.floor((Math.random() * 255) + 1)\r\n\t\t\t}\r\n\r\n\t\t\tif (entity.texture) {\r\n\t\t\t\t//TODO: Grab the Cached version of it if available, \r\n\t\t\t\tvar imageData = entity.texture.getData();\r\n\r\n\t\t\t\tvar entityToImageYModifier = imageData.height / entity.height;\r\n\t\t\t\tvar entityToImageXModifier = imageData.width / entity.width;\r\n\r\n\t\t\t\tvar clippedImageHeight = clippedEntityHeight * entityToImageYModifier;\r\n\r\n\t\t\t\tvar clippedImageWidth =  clippedEntityWidth * entityToImageXModifier;\r\n\r\n\t\t\t\tthis.viewPort.context.drawImage(imageData, leftClip * entityToImageXModifier , topClip * entityToImageYModifier, clippedImageWidth, clippedImageHeight, x, y, w, h)\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\t\t\t//No camera, static entities relative to the canvas\r\n\t\t\tvar x = entity.x;\r\n\t\t\tvar y = entity.y;\r\n\t\t\tvar w = entity.width;\r\n\t\t\tvar h = entity.height;\r\n\r\n\t\t\t//Rendering time!\r\n\t\t\tif (entity.color){\r\n\t\t\t\t//Draw a rect in its place...\r\n\t\t\t\tvar color = entity.color;\r\n\t\t\t\tthis.viewPort.context.fillStyle = \"rgb(\" + color.r + \", \" + color.g + \", \" + color.b + \")\";\r\n\t\t\t\tthis.viewPort.context.fillRect(x, y, w, h);\r\n\t\t\t}\r\n\r\n\t\t\tif (entity.texture) {\r\n\t\t\t\t//TODO: Grab the Cached version of it if available, \r\n\t\t\t\tvar imageData = entity.texture.getData();\r\n\r\n\t\t\t\tvar entityToImageYModifier = imageData.height / entity.height;\r\n\t\t\t\tvar entityToImageXModifier = imageData.width / entity.width;\r\n\r\n\t\t\t\tvar clippedImageHeight = clippedEntityHeight * entityToImageYModifier;\r\n\r\n\t\t\t\tvar clippedImageWidth =  clippedEntityWidth * entityToImageXModifier;\r\n\r\n\t\t\t\tthis.viewPort.context.drawImage(imageData, x, y, w, h)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t\t//TODO: Update this to render entities top-down\r\n\t\t//TODO: Only navigate if isModified\r\n\t\tvar children = entity.getChildren();\r\n\r\n\t\twhile (children.hasNext()) {\r\n\t\t\tthis._renderEntity(children.next(), camera);\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// /mnt/c/projects/Jiggy.io/src/engines/TwoDimensionalRenderingEngine.ts","export {ModelEventTypes} from './ModelEventTypes';\nexport {AttrChangeEvent} from './AttrChangeEvent';\nexport {AttrDeleteEvent} from './AttrDeleteEvent';\nexport {ShortAttrChangeEvent} from './ShortAttrChangeEvent';\nexport {TextureChangeEvent} from './TextureChangeEvent';\nexport {EntityEventTypes} from './EntityEventTypes';\nexport {LocationUpdateEvent} from './LocationUpdateEvent';\n\n\nexport {Entity} from './Entity';\nexport {EntityModel} from './EntityModel';\nexport {EntityView} from './EntityView';\nexport {EntityView2D} from './EntityView2D';\nexport {GridMap} from './GridMap';\n\n\n\n// WEBPACK FOOTER //\n// /mnt/c/projects/Jiggy.io/src/entities/index.ts","import * as Events from 'events';\r\nimport {Dimension, Coordinate, Color} from '../interfaces/';\r\nimport {Asset, AssetType} from '../assets/';\r\nimport {EntityModel, ModelEventTypes, EntityView, EntityEventTypes, LocationUpdateEvent} from './';\r\n\r\nimport {Iterator} from \"../utils/Iterator\";\r\n\r\nexport class Entity extends Events.EventEmitter {\r\n\tpublic view : EntityView;\r\n\tprotected _model : EntityModel;\r\n\tprotected _children : Entity[];\r\n\tprivate _regions : Entity[][][];\r\n\tprivate _regionDimension : Dimension;\r\n\tprivate _regionList : {[key: string]: Coordinate[]};\r\n\tprotected _parent : Entity;\r\n\tprivate _modified : boolean;\r\n\tprivate _notifierKeys : string[];\r\n\tprivate _parentNotifierKeys : string[];\r\n\tprivate _modelCB : {(attribute: string, value: any, oldValue: any) : void}\r\n\tpublic collisionable : boolean;\r\n\tprivate _eventEmitted : boolean;\r\n\r\n\tconstructor (model? : EntityModel) {\r\n\t\tsuper();\r\n\t\tvar useDefaults :  boolean = false;\r\n\r\n\t\tthis._modelCB = (attribute: string, value: any, oldValue: any) => {\r\n\t\t\tif (this._notifierKeys.indexOf(attribute) > -1) {\r\n\t\t\t\tthis._setModified(true);\r\n\t\t\t} else if (this._parent && this._parentNotifierKeys.indexOf(attribute) > -1) {\r\n\t\t\t\tthis._parent._setModified(true);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t//Check to see if a model was passed in\r\n\t\tif (!model) {\r\n\t\t\t//No model was passed in, so create the default model for an Entity\r\n\t\t\tmodel = new EntityModel();\r\n\t\t\tuseDefaults = true;\r\n\t\t}\r\n\t\t\r\n\t\t//TODO figure out how to decide what EntityView class we should use...\r\n\t\tthis.view = new EntityView(model);\r\n\t\tthis.model = model;\r\n\t\t\r\n\t\tthis._children = new Array(); //Array to store all the children entities\r\n\r\n\t\t//Region Management\r\n\t\tthis._regions = []//Array of generated 'regions' of children to make children searching more efficient, by splitting them up into regions by position & dimensions\r\n\t\tthis._regionDimension; //The dimensions of the regions for this Entity\r\n\t\tthis._regionList = {}; //Mapping of Children to Region(s) so we don't have to search\r\n\r\n\t\tthis.collisionable = false;\r\n\t\t//Layer Management\r\n\t\t// this.layers = [[]]; //Layers for rendering so children can be rendering in proper order\r\n\t\t// this.layerList = {}; //Mapping of Children to Layers so we don't have to search\r\n\r\n\t\tthis._parent = null; //Parent is the entity that contains this one\r\n\t\tthis._modified = false; //Whether or not this Entity has been modified\r\n\t\tthis._notifierKeys = ['width', 'height',  'color', 'texture', 'textures']; //Model attributes in which we should change isModified for\r\n\t\tthis._parentNotifierKeys = ['x', 'y']; //Array of attributes to flag the parent as modified, anything in notifierKeys will do so by default, this list is for keys that don't mark this entity as isMOdified but should mark the parents\r\n\r\n\t\tif (useDefaults) {\r\n\t\t\tthis._setDefaults();\r\n\t\t}\r\n\t}\r\n\r\n\tget ID () {\r\n\t\treturn this._model.ID;\r\n\t}\r\n\r\n\tget parent () {\r\n\t\treturn this._parent;\r\n\t}\r\n\r\n\tset parent (parent : Entity) {\r\n\t\tthis._parent = parent;\r\n\t}\r\n\r\n\tget regions () {\r\n\t\treturn this._regions;\r\n\t}\r\n\r\n\tget regionDimension () {\r\n\t\treturn this._regionDimension;\r\n\t}\r\n\r\n\tget type () {\r\n\t\treturn this._model.type;\r\n\t}\r\n\r\n\tset type (type: string) {\r\n\t\tthis._model.type = type;\r\n\t}\r\n\r\n\tget model ()   : EntityModel {\r\n\t\treturn this._model;\r\n\t}\r\n\r\n\tset model (model : EntityModel) {\r\n\t\tvar view = this.view;\r\n\t\tvar oldModel = this.model;\r\n\r\n\t\tif (oldModel) {\r\n\t\t\t// view.deattachListener(oldModel);\r\n\t\t\toldModel.removeListener(ModelEventTypes.ATTR_CHANGE.toString(), this._modelCB);\r\n\t\t}\r\n\r\n\t\tthis._model = model;\r\n\t\t// view.attachListener(model);\r\n\t\tmodel.on(ModelEventTypes.ATTR_CHANGE.toString(),  this._modelCB);\r\n\t}\r\n\r\n\tget height () : number {\r\n\t\treturn this.model.getAttribute('height');\r\n\t}\r\n\r\n\tset height (height: number) {\r\n\t\tthis.model.setAttribute('height', height);\r\n\t\tthis._generateRegions();\r\n\t}\r\n\r\n\tget width () : number {\r\n\t\treturn this.model.getAttribute('width');\r\n\t}\r\n\r\n\tset width (width: number) {\r\n\t\tthis.model.setAttribute('width', width);\r\n\t\tthis._generateRegions();\r\n\t}\r\n\r\n\tget x () {\r\n\t\treturn this.model.getAttribute('x');\r\n\t}\r\n\r\n\tset x (x : number) {\r\n\t\tlet oldCoordinates = {x: this.x, y: this.y};\r\n\t\tthis.model.setAttribute('x', x);\r\n\t\tlet newCoordinates = {x: this.x, y: this.y};\r\n\r\n\t\tif (this.parent) {\r\n\t\t\tthis.parent._updateChildsRegion(this);\r\n\t\t}\r\n\r\n\t\tlet eventData : LocationUpdateEvent = {\r\n\t\t\ttype: EntityEventTypes.LOCATION_UPDATE.toString(),\r\n\t\t\toldCoordinates,\r\n\t\t\tnewCoordinates,\r\n\t\t\tsource: this\r\n\t\t} \r\n\r\n\t\tif (!this._eventEmitted) {\r\n\t\t\tthis._eventEmitted = true;\r\n\t\t\tthis.emit(EntityEventTypes.LOCATION_UPDATE.toString(), eventData);\r\n\t\t\tthis._eventEmitted = false;\r\n\t\t}\r\n\t}\r\n\r\n\tset coordinate (coordinate: Coordinate) {\r\n\t\tlet oldCoordinates = {x: this.x, y: this.y};\r\n\t\tthis.model.setAttribute('x', coordinate.x);\r\n\t\tthis.model.setAttribute('y', coordinate.y);\r\n\t\tlet newCoordinates = {x: this.x, y: this.y};\r\n\r\n\t\tif (this.parent) {\r\n\t\t\tthis.parent._updateChildsRegion(this);\r\n\t\t}\r\n\r\n\t\tlet eventData : LocationUpdateEvent = {\r\n\t\t\ttype: EntityEventTypes.LOCATION_UPDATE.toString(),\r\n\t\t\toldCoordinates,\r\n\t\t\tnewCoordinates,\r\n\t\t\tsource: this\r\n\t\t} \r\n\r\n\t\tthis.emit(EntityEventTypes.LOCATION_UPDATE.toString(), eventData);\r\n\t}\r\n\r\n\tget x2 () : number {\r\n\t\treturn this.x + this.width;\r\n\t}\r\n\r\n\tget y () {\r\n\t\treturn this.model.getAttribute('y');\r\n\t}\r\n\r\n\tset y (y: number) {\r\n\t\tlet oldCoordinates = {x: this.x, y: this.y};\r\n\t\tthis.model.setAttribute('y', y);\r\n\t\tlet newCoordinates = {x: this.x, y: this.y};\r\n\r\n\t\tif (this.parent) {\r\n\t\t\tthis.parent._updateChildsRegion(this);\r\n\t\t}\r\n\r\n\t\tlet eventData : LocationUpdateEvent = {\r\n\t\t\ttype: EntityEventTypes.LOCATION_UPDATE.toString(),\r\n\t\t\toldCoordinates,\r\n\t\t\tnewCoordinates,\r\n\t\t\tsource: this\r\n\t\t}\r\n\r\n\t\tif (!this._eventEmitted) {\r\n\t\t\tthis._eventEmitted = true;\r\n\t\t\tthis.emit(EntityEventTypes.LOCATION_UPDATE.toString(), eventData);\r\n\t\t\tthis._eventEmitted = false;\r\n\t\t}\r\n\t}\r\n\r\n\tget y2 () : number {\r\n\t\treturn this.y + this.height;\r\n\t}\r\n\r\n\tget z () {\r\n\t\treturn this.model.getAttribute('z');\r\n\t}\r\n\r\n\tset z (z: number) {\r\n\t\tthis.model.setAttribute('z', z);\r\n\t}\r\n\r\n\tget visible () : boolean {\r\n\t\treturn this.model.getAttribute('visible');\r\n\t}\r\n\r\n\tset visible (state: boolean) {\r\n\t\tthis.model.setAttribute('visible', state);\r\n\t}\r\n\r\n\tget color () : Color {\r\n\t\tvar data = this.model.getAttribute('color');\r\n\t\t// return [data.r, data.g, data.b, data.r];\r\n\t\treturn data;\r\n\t}\r\n\r\n\tset color (color: Color) {\r\n\t\tthis.model.setAttribute('color', color);\r\n\t}\r\n\r\n\tget texture () : Asset {\r\n\t\treturn this.model.texture;\r\n\t}\r\n\r\n\tset texture (asset  : Asset) {\r\n\t\tif (asset.getType() !== AssetType.IMAGE) {\r\n\t\t\tthrow new Error('Texture asset must be of type IMAGE.');\r\n\t\t}\r\n\r\n\t\tthis.model.texture = asset;\r\n\t\tthis._setModified(true);\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * public isModified\r\n\t *\r\n\t *\tIndicates whether this Entity has been modified since the last render frame.\r\n\t * \r\n\t * @return {Boolean}\r\n\t */\r\n\t public isModified () : boolean {\r\n\t\treturn this._modified;\r\n\t }\r\n\r\n\t/**\r\n\t * public addChild\r\n\t *\r\n\t *\tAdds a child entity node to this entity.\r\n\t * \r\n\t * @param {zen.entities.Entity} child \r\n\t * @return {void}  \r\n\t */\r\n\t public addChild (child : Entity) : void {\r\n\t\tvar parent = child.parent;\r\n\t\tif (parent) {\r\n\t\t\tparent.removeChild(child);\r\n\t\t}\r\n\t\tthis._children.push(child);\r\n\t\tchild.parent = this;\r\n\r\n\t\t//Region Management\r\n\t\tthis._putChildInRegion(child);\r\n\t }\r\n\r\n\t/**\r\n\t * public removeChild\r\n\t *\r\n\t *\tRemoves a child entity node from this entity.\r\n\t * \r\n\t * @param  {zen.entities.Entity} child \r\n\t * @return {void}       \r\n\t */\r\n\t public removeChild (child : Entity) : void {\r\n\t\tif (this.isChild(child)) {\r\n\t\t\tvar idx = this.indexOf(child);\r\n\t\t\tthis._children.splice(idx, 1);\r\n\t\t}\r\n\r\n\t\t//Region Management\r\n\t\tthis._removeChildFromRegions(child);\r\n\t\tdelete this._regionList[child.ID];\r\n\t }\t \r\n\r\n\t/**\r\n\t * public removeAllChildren\r\n\t *\r\n\t *\tRemoves all child nodes of this entity.\r\n\t * \r\n\t * @return {void} \r\n\t */\r\n\t public removeAllChildren () : void {\r\n\t\tvar child : Entity;\r\n\t\twhile (child = this.getChildAt(0)) {\r\n\t\t\tthis.removeChild(child);\t\r\n\t\t}\r\n\t }\r\n\r\n\t/**\r\n\t * public isChild\r\n\t *\r\n\t *\tChecks to see if the given entity is a child of\r\n\t *\tthis entity.\r\n\t * \r\n\t * @param  {zen.entities.Entity}  child \r\n\t * @return {Boolean}       \r\n\t */\r\n\t public isChild (child : Entity) : boolean {\r\n\t\treturn (this.indexOf(child) > -1);\r\n\t }\r\n\r\n\t/**\r\n\t * public indexOf\r\n\t *\r\n\t *\tFinds the index of the given entity.\r\n\t * \r\n\t * @param  {zen.entities.Entity} child \r\n\t * @return {Integer}       \r\n\t */\r\n\t public indexOf (child : Entity) : number {\r\n\t\treturn this._children.indexOf(child);\r\n\t }\r\n\r\n\t/**\r\n\t * public childCount\r\n\t *\r\n\t *\tCounts the number of child nodes inside this entity.\r\n\t * \r\n\t * @return {Integer} \r\n\t */\r\n\t public childCount () : number {\r\n\t\treturn this._children.length;\r\n\t }\r\n\r\n\t/**\r\n\t * public getChildAt\r\n\t *\r\n\t *\tGets a child entity at the given index.\r\n\t * \r\n\t * @param  {Integer} index \r\n\t * @return {zen.entities.Entity}       \r\n\t */\r\n\t public getChildAt (index: number) : Entity {\r\n\t\treturn this._children[index];\r\n\t }\r\n\r\n\t/**\r\n\t * private setModified\r\n\t *\r\n\t *\tSets whether this Entity has been modified since the last render\r\n\t *\tframe.\r\n\t * \r\n\t * @param {Boolean} state\r\n\t */\r\n\t private _setModified (state: boolean) : void {\r\n\t\tthis._modified = state;\r\n\t\tif (this._parent) {\r\n\t\t\tthis._parent._setModified(state);\r\n\t\t}\r\n\t }\r\n\r\n\t/**\r\n\t * public iterator DEPRECATED - use getChildren()\r\n\t *\r\n\t *\tCreates a child node iterator for this entity.\r\n\t * \r\n\t * @return {Object} {\r\n\t *         hasNext : function()\r\n\t *         next : function()\r\n\t *         hasPrevious : function()\r\n\t *         previous : function()\r\n\t * }\r\n\t */\r\n\t public iterator () : Iterator {\r\n\t\treturn new Iterator(this._children);\r\n\t }\r\n\r\n\t/**\r\n\t * public getChildren\r\n\t *\r\n\t *\tReturns an Iterator of Children.  Can pass\r\n\t *\tin a set of coordinates to get children in a specific\r\n\t *\tregion of coordinates relative to the entity (0,0 is top left of this entity).\r\n\t *\tIf only the starTCoordinate is specified, looks up children who intersect with that point.\r\n\t *\tIf both arguements are passed in, looks for children who intersect with the rect the coords create.\r\n\t *\tIf neither are provided, just returns an iterator of all children.\r\n\t *\r\n\t * Not recursive, only checks it's own children\r\n\t *\r\n\t *\r\n\t * @param {zen.data.Coordinate} startCoordinate, optional, The Starting coordinate to loop for children.  Passing only \r\n\t * this param in will look for children that intersect with this coordinate.\r\n\t * @param { zen.data.Coordinate} endCoordinate, optional, The End coordinate to loop for children.  Passing in this param\r\n\t * creates a region to look for children instead of just a specific point\r\n\t * @return Iterator\r\n\t */\r\n\t public getChildren (startCoordinate? : Coordinate, endCoordinate? : Coordinate) : Iterator {\r\n\t\tif (startCoordinate && endCoordinate) { //Area Lookup\r\n\t\t\tvar startRegion = this._coordinateToRegion(startCoordinate);\r\n\t\t\tvar endRegion = this._coordinateToRegion(endCoordinate);\r\n\r\n\t\t\t//Loop through all regions in the coordinates and collect the children\r\n\t\t\tvar children : Entity[] = [];\r\n\r\n\t\t\tfor (var x = startRegion.x; x <= endRegion.x; x ++) {\r\n\t\t\t\tfor (var y = startRegion.y; y <= endRegion.y; y ++) {\r\n\t\t\t\t\tchildren = children.concat(this._getChildrenInRegion({x, y}));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn new Iterator(children);\r\n\t\t} else if (startCoordinate) { //Point Lookup\r\n\t\t\tvar region = this._coordinateToRegion(startCoordinate);\r\n\r\n\t\t\t//Loop through and determine who intersects with the point\r\n\t\t\tvar children : Entity[] = [];\r\n\r\n\t\t\tvar childrenIterator = new Iterator(this._getChildrenInRegion({x: region.x, y: region.y}));\r\n\t\t\twhile(childrenIterator.hasNext()) {\r\n\t\t\t\tvar child = childrenIterator.next();\r\n\t\t\t\tvar childCoordinate = child.getCoordinate();\r\n\t\t\t\tvar childOuterCoordinate = child.getOuterCoordinate();\r\n\r\n\t\t\t\tif (childCoordinate.x <= startCoordinate.x && childCoordinate.y <= startCoordinate.y\r\n\t\t\t\t\t&& childOuterCoordinate.x >= startCoordinate.x && childOuterCoordinate.y >= startCoordinate.y) {\r\n\t\t\t\t\t//Intersects with the startCoordinate\r\n\t\t\t\t\tchildren.push(child);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn new Iterator(children);\r\n\t\t} else { //All Lookup\r\n\t\t\treturn new Iterator(this._children);\r\n\t\t}\r\n\t }\r\n\r\n\t public findChildren (startCoordinate? : Coordinate, endCoordinate? : Coordinate) : Entity[] {\r\n\t\tvar children : Entity[] = [];\r\n\r\n\t\tif (this._children.length > 0) {\r\n\t\t\t//Find the Region the coordinates belond to\r\n\t\t\tif (startCoordinate && !endCoordinate) {\r\n\t\t\t\tvar region = this._coordinateToRegion(startCoordinate);\r\n\t\t\t\tvar regionChildren = this._getChildrenInRegion({x: region.x, y: region.y});\r\n\t\t\t\tif (regionChildren.length > 0) {\r\n\t\t\t\t\tvar childrenIterator = new Iterator(regionChildren);\r\n\t\t\t\t\t// var childrenIterator = new zen.util.Iterator(this.children);\r\n\r\n\t\t\t\t\t//Loop through all children in that region to see if they intersect\r\n\t\t\t\t\twhile(childrenIterator.hasNext()) {\r\n\t\t\t\t\t\tvar iterChild = childrenIterator.next();\r\n\t\t\t\t\t\tlet childCoordinate = iterChild.getCoordinate();\r\n\t\t\t\t\t\tlet childOuterCoordinate = iterChild.getOuterCoordinate();\r\n\r\n\t\t\t\t\t\tif (childCoordinate.x <= startCoordinate.x && childCoordinate.y <= startCoordinate.y\r\n\t\t\t\t\t\t\t&& childOuterCoordinate.x >= startCoordinate.x && childOuterCoordinate.y >= startCoordinate.y) {\r\n\t\t\t\t\t\t\t//Intersects with the startCoordinate\r\n\t\t\t\t\t\t\tchildren.push(iterChild);\r\n\r\n\t\t\t\t\t\t\t//See if we can get a deeper child...\r\n\t\t\t\t\t\t\tlet deeperChildren = iterChild.findChildren({x: startCoordinate.x - childCoordinate.x, y: startCoordinate.y - childCoordinate.y});\r\n\t\t\t\t\t\t\tif (deeperChildren) {\r\n\t\t\t\t\t\t\t\tchildren = children.concat(deeperChildren);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (startCoordinate && endCoordinate) {\r\n\t\t\t\tvar startRegion = this._coordinateToRegion(startCoordinate);\r\n\t\t\t\tvar endRegion = this._coordinateToRegion(endCoordinate);\r\n\t\t\t\tvar childrenVisited : Entity[] = [];\r\n\t\t\t\t//Loop through the regions\r\n\t\t\t\tfor (var x = startRegion.x; x <= endRegion.x; x ++) {\r\n\t\t\t\t\tfor (var y = startRegion.y; y <= endRegion.y; y ++) {\r\n\t\t\t\t\t\tvar regionChildren = this._getChildrenInRegion({x, y});\r\n\r\n\t\t\t\t\t\tfor (var regionChildI in regionChildren) {\r\n\t\t\t\t\t\t\tvar regionChild = regionChildren[regionChildI];\r\n\r\n\t\t\t\t\t\t\tif (childrenVisited.indexOf(regionChild) === -1) {\r\n\t\t\t\t\t\t\t\tchildrenVisited.push(regionChild);\r\n\t\t\t\t\t\t\t\tlet childCoordinate = regionChild.getCoordinate();\r\n\t\t\t\t\t\t\t\tlet childOuterCoordinate = regionChild.getOuterCoordinate();\r\n\r\n\t\t\t\t\t\t\t\tvar xCollission = false;\r\n\t\t\t\t\t\t\t\tvar yCollision = false;\r\n\r\n\t\t\t\t\t\t\t\tif ((startCoordinate.x < childOuterCoordinate.x && endCoordinate.x > childCoordinate.x)\r\n\t\t\t\t\t\t\t\t    || (endCoordinate.x > childCoordinate.x && startCoordinate.x < childOuterCoordinate.x)) {\r\n\t\t\t\t\t\t\t\t    xCollission = true;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tif ((startCoordinate.y < childOuterCoordinate.y && endCoordinate.y > childCoordinate.y)\r\n\t\t\t\t\t\t\t\t    || (endCoordinate.y > childCoordinate.y && startCoordinate.y < childOuterCoordinate.y)) {\r\n\t\t\t\t\t\t\t\t     yCollision = true;\r\n\t\t\t\t\t\t\t\t }\r\n\r\n\t\t\t\t\t\t\t\tif (xCollission && yCollision) {\r\n\t\t\t\t\t\t\t\t    children.push(regionChild);\t\r\n\r\n\t\t\t\t\t\t\t\t    let deeperChildren = regionChild.findChildren({x: startCoordinate.x - childCoordinate.x, y: startCoordinate.y - childCoordinate.y}, {x: endCoordinate.x - childOuterCoordinate.x, y: endCoordinate.y - childOuterCoordinate.y})\r\n\t\t\t\t\t\t\t\t\tif (deeperChildren) {\r\n\t\t\t\t\t\t\t\t\t\tchildren = children.concat(deeperChildren);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn children;\r\n\t }\r\n\r\n\t/**\r\n\t * public findTopChildAt\r\n\t *\r\n\t * Tries to find the deepest child at the top most layer at this coordinates.\r\n\t * TODO: Update this to support Layers once we have layers...\r\n\t *\r\n\t * @param {Coordinate} [coordinate] [Coordinate relative to this entity to loop from]\r\n\t * @return Entity\r\n\t */\r\n\t public findTopChildAt (coordinate : Coordinate) : Entity|boolean {\r\n\t\tvar child = false;\r\n\r\n\t\t//Find the Region the coordinates belond to\r\n\t\tvar region = this._coordinateToRegion(coordinate);\r\n\t\tvar regionChildren = this._getChildrenInRegion({x: region.x, y: region.y});\r\n\t\tvar childrenIterator = new Iterator(regionChildren);\r\n\t\tchildrenIterator.setToEnd();\r\n\r\n\t\t//Loop through all children in that region to see if they intersect\r\n\t\twhile(childrenIterator.hasPrev() && !child) {\r\n\t\t\tvar iterChild = childrenIterator.prev();\r\n\t\t\tvar childCoordinate = iterChild.getCoordinate();\r\n\t\t\tvar childOuterCoordinate = iterChild.getOuterCoordinate();\r\n\r\n\t\t\tif (childCoordinate.x <= coordinate.x && childCoordinate.y <= coordinate.y\r\n\t\t\t\t&& childOuterCoordinate.x >= coordinate.x && childOuterCoordinate.y >= coordinate.y) {\r\n\t\t\t\t//Intersects with the startCoordinate\r\n\t\t\t\tchild = iterChild;\r\n\r\n\t\t\t\t//See if we can get a deeper child...\r\n\t\t\t\tvar deeperChild = iterChild.findTopChildAt({x: coordinate.x - childCoordinate.x, y: coordinate.y - childCoordinate.y});\r\n\t\t\t\tif (deeperChild) {\r\n\t\t\t\t\tchild = deeperChild;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn child;\r\n\t }\r\n\r\n\t public getCoordinate () : Coordinate {\r\n\t \treturn {x: this.x, y: this.y};\r\n\t }\r\n\r\n\t public getOuterCoordinate () : Coordinate {\r\n\t \treturn {x: this.x2, y: this.y2};\r\n\t }\r\n\r\n\t public getAbsoluteY () : number {\r\n\t\tvar entity : Entity = this;\r\n\t\tvar y = 0;\r\n\t\twhile (entity) {\r\n\t\t\ty += entity.y;\r\n\t\t\tentity = entity.parent;\r\n\t\t}\r\n\t\treturn y;\r\n\t }\r\n\r\n\t public getAbsoluteY2 () : number {\r\n\t\treturn this.getAbsoluteY() + this.height;\r\n\t }\r\n\r\n\t public getAbsoluteX () : number {\r\n\t\tvar entity : Entity = this;\r\n\t\tvar x = 0;\r\n\t\twhile (entity) {\r\n\t\t\tx += entity.x;\r\n\t\t\tentity = entity.parent;\r\n\t\t}\r\n\t\treturn x;\r\n\t }\r\n\r\n\t public getAbsoluteX2 () : number {\r\n\t\treturn this.getAbsoluteX() + this.width;\r\n\t }\r\n\r\n\t/**\r\n\t * public setLocation\r\n\t *\r\n\t *\tSets the coordinates of this entity. All arguments are optional.\r\n\t * \r\n\t * @param {Integer} x \r\n\t * @param {Integer} y \r\n\t * @param {Integer} z \r\n\t */\r\n\t public setLocation (coordinate : Coordinate) : void {\r\n\t \tthis.x = coordinate.x;\r\n\t \tthis.y = coordinate.y;\r\n\t }\r\n\r\n\t/**\r\n\t * public getLocation\r\n\t *\r\n\t *\tGets the coordinates of this entity.\r\n\t * \r\n\t * @return {Object} {\r\n\t *         x : integer,\r\n\t *         y : integer,\r\n\t *         z : integer\r\n\t * }\r\n\t */\r\n\t public getLocation ()  : Coordinate {\r\n\t \treturn {\r\n\t \t\tx: this.x,\r\n\t \t\ty: this.y\r\n\t \t};\r\n\t }\r\n\r\n\t public setSize (dimension : Dimension) : void {\r\n\t \tthis._setModified(true);\r\n\t \tthis.width = dimension.width;\r\n\t \tthis.height = dimension.height;\r\n\t }\r\n\r\n\t public getSize () : Dimension {\r\n\t \treturn {width: this.width, height: this.height};\r\n\t }\r\n\r\n\t/**\r\n\t * private _setDefaults\r\n\t *\r\n\t *\tSets the default attributes for this entity.\r\n\t * \r\n\t * @return {void} \r\n\t */\r\n\t private _setDefaults () : void {\r\n\t\tthis.setLocation({x: 0, y: 0});\r\n\t\tthis.setSize({width: 0, height: 0});\r\n\t\tthis.visible = true;\r\n\t\t// this.setColor(0,0,0,0);\r\n\t }\r\n\r\n\t/**\r\n\t * private _generateRegions\r\n\t *\r\n\t *\tGenetates regions of children to make searches more efficient\r\n\t * \r\n\t * @return {void} \r\n\t */\r\n\t private _generateRegions () : void {\r\n\t\tthis._regions = []; //Start fresh\r\n\t\tthis._regionList = {};\r\n\r\n\t\t//Pref we want 100 by 100 region, try to aim as close to it as we can\r\n\t\tif (this.width <= 100) {\r\n\t\t\tvar regionWidth = this.width / 2;\r\n\t\t} else {\r\n\t\t\tvar regionWidth = 50;\r\n\r\n\t\t}\r\n\r\n\t\tif (this.height <= 100) {\r\n\t\t\tvar regionHeight = this.height / 2;\r\n\t\t} else {\r\n\t\t\tvar regionHeight = 50;\r\n\t\t}\r\n\r\n\t\tthis._regionDimension = {width: regionWidth, height: regionHeight};\r\n\r\n\t\t//Generate the Arrays\r\n\t\tvar xCount = Math.ceil(this.width / regionWidth);\r\n\t\tvar yCount = Math.ceil(this.height / regionHeight);\r\n\r\n\t\tfor (var x = 0; x < xCount; x ++) {\r\n\t\t\tthis._regions[x] = [];\r\n\t\t\tfor (var y = 0; y < yCount; y ++) {\r\n\t\t\t\tthis._regions[x][y] = [];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//Populate Arrays\r\n\t\tvar childrenIterator = this.iterator();\r\n\t\twhile (childrenIterator.hasNext()) {\r\n\t\t\tthis._putChildInRegion(childrenIterator.next());\r\n\t\t}\r\n\t }\r\n\r\n\t private _putChildInRegion (child: Entity) : void {\r\n\t\t// console.log(\"Generating start region\");\r\n\t\tvar startRegion = this._coordinateToRegion({x: child.x, y: child.y});\r\n\t\t// console.log(\"Generator end region\");\r\n\t\tvar endRegion = this._coordinateToRegion({x: child.x2, y: child.y2});\r\n\r\n\t\tthis._regionList[child.ID] = [];\r\n\r\n\t\tif (!isNaN(startRegion.x) && !isNaN(startRegion.y) && !isNaN(endRegion.x) && !isNaN(endRegion.y)) {\r\n\t\t\t//Compare both Regions and add the entity to those regions, and all in between\r\n\t\t\tfor (var x = startRegion.x; x <= endRegion.x; x ++) {\r\n\t\t\t\tif (this._regions[x]) { //Overflow protection\r\n\t\t\t\t\tfor (var y = startRegion.y; y <= endRegion.y; y ++) {\r\n\t\t\t\t\t\tif (this._regions[x][y]) { //Overflow Protection\r\n\t\t\t\t\t\t\tthis._regions[x][y].push(child);\r\n\t\t\t\t\t\t\tthis._regionList[child.ID].push({x, y});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t// zen.app.getLogManager().log(zen.util.LogManager.WARNING, \"Unable to put child into region - Out of Bounds\", child);\r\n\t\t}\r\n\t }\r\n\r\n\t private _getChildrenInRegion (regionCoordinate : Coordinate) : Entity[] {\r\n\t\tif (this._regions[regionCoordinate.x] && this._regions[regionCoordinate.x][regionCoordinate.y]) {\r\n\t\t\treturn this._regions[regionCoordinate.x][regionCoordinate.y];\r\n\t\t} else {\r\n\t\t\treturn [];\r\n\t\t}\r\n\t }\r\n\r\n\t private _removeChildFromRegions (child: Entity) : void {\r\n\t\t//Clear Child out of existing regions\r\n\t\tif (this._regionList[child.ID])  {\r\n\t\t\tfor (var i in this._regionList[child.ID]) {\r\n\t\t\t\tvar coord = this._regionList[child.ID][i];\r\n\t\t\t\tthis._regions[coord.x][coord.y].splice(this._regions[coord.x][coord.y].indexOf(child), 1);\r\n\t\t\t}\r\n\t\t}\r\n\t }\r\n\r\n\t private _updateChildsRegion (child: Entity) : void {\r\n\t\tthis._removeChildFromRegions(child);\r\n\r\n\t\t//Add it back into new regions\r\n\t\tthis._putChildInRegion(child);\r\n\t }\r\n\r\n\t private _coordinateToRegion (coordinate: Coordinate) : Coordinate {\r\n\t\t// console.log('Coordinate To Region', coordinate);\r\n\t\t// console.log('Region Dimension', this.regionDimension);\r\n\t\tvar x = Math.floor(coordinate.x / this._regionDimension.width);\r\n\t\tvar y = Math.floor(coordinate.y / this._regionDimension.height);\r\n\t\t// console.log('Region Coordinates', new zen.data.Coordinate(x, y));\r\n\t\treturn {x, y};\r\n\t }\r\n}\n\n\n// WEBPACK FOOTER //\n// /mnt/c/projects/Jiggy.io/src/entities/Entity.ts","import * as Events from 'events';\r\nimport {Iterator, IDGenerator} from \"../utils/\";\r\nimport {Asset} from \"../assets/Asset\";\r\nimport {\r\n\tModelEventTypes,\r\n\tShortAttrChangeEvent,\r\n\tTextureChangeEvent,\r\n\tAttrDeleteEvent\r\n} from './';\r\n\r\nexport class EntityModel extends Events.EventEmitter {\r\n\tprivate _attributes : {[key: string]: any};\r\n\tprivate _id : string;\r\n\tpublic type : string;\r\n\tprivate _texture : Asset;\r\n\r\n\tconstructor () {\r\n\t\tsuper();\r\n\t\tthis._attributes = {};\r\n\t\tthis._id = IDGenerator.getSingleton().generate();\r\n\t\tthis.type = 'generic';\r\n\t}\r\n\r\n\tget ID () : string {\r\n\t\treturn this._id;\r\n\t}\r\n\r\n\tset texture (asset: Asset) {\r\n\t\tthis._texture = asset;\r\n\t\tthis.emit(ModelEventTypes.TEXTURE_CHANGE.toString(), {\r\n\t\t\tattribute : 'texture',\r\n\t\t\tname : name,\r\n\t\t\tvalue : asset\r\n\t\t});\r\n\t}\r\n\r\n\tget texture () : Asset {\r\n\t\treturn this._texture;\r\n\t}\r\n\r\n\tpublic setAttribute (key : string, value : any) : void {\r\n\t\tvar oldValue = this.getAttribute(key);\r\n\t\tthis._attributes[key] = value;\r\n\t\tthis.emit(ModelEventTypes.ATTR_CHANGE.toString(), {\r\n\t\t\tattribute : key,\r\n\t\t\toldValue : oldValue,\r\n\t\t\tvalue : value\r\n\t\t});\r\n\t}\r\n\r\n\tpublic removeAttribute(key: string) : void {\r\n\t\tvar value = this.getAttribute(key);\r\n\t\tdelete this._attributes[key];\r\n\t\t// if (this._isNotifierKey(key)) {\r\n\t\t\tvar data : AttrDeleteEvent = {\r\n\t\t\t\ttype: ModelEventTypes.ATTR_DELETE.toString(),\r\n\t\t\t\tattribute : key,\r\n\t\t\t\tvalue : value,\r\n\t\t\t\tsource: this\r\n\t\t\t};\r\n\r\n\t\t\tthis.emit(ModelEventTypes.ATTR_DELETE.toString(), data);\r\n\t\t// }\r\n\t}\r\n\r\n\tpublic getAttribute (key : string) : any {\r\n\t\treturn this._attributes[key];\r\n\t}\r\n\r\n\tpublic hasAttribute (key: string) : boolean {\r\n\t\tif (this._attributes[key]) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\t// public iterator () : Iterator {\r\n\t// \t// return new Iterator(this._attributes);\r\n\t// }\r\n\r\n\tpublic sync (listener : any) : void {\r\n\t\t// var evt = ModelEventTypes.ATTR_CHANGE.toString();\r\n\t\t// var iter = this.iterator();\r\n\t\t// var item : any;\r\n\t\t// while (iter.hasNext()) {\r\n\t\t// \titem = iter.next();\r\n\t\t// \tlistener.notify(evt, {\r\n\t\t// \t\tattribute \t: item.key,\r\n\t\t// \t\tvalue \t\t: item.value\r\n\t\t// \t});\r\n\t\t// }\r\n\t\t// listener.notify(evt, {\r\n\t\t// \tattribute \t: 'textures',\r\n\t\t// \tvalue \t\t: this.collectTextures()\r\n\t\t// });\r\n\t}\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// /mnt/c/projects/Jiggy.io/src/entities/EntityModel.ts","import * as Events from 'events';\r\nimport {EntityModel, ModelEventTypes, AttrChangeEvent} from \"./\";\r\n\r\nexport class EntityView extends Events.EventEmitter {\r\n\tprotected _visible : boolean;\r\n\t// private _notifyCallback : {(attribute: string, value: any) : void};\r\n\tprotected _bindedFuncs :  {[key: string] : (event: Event) => void};\r\n\tprotected _model : EntityModel;\r\n\r\n\tconstructor (model: EntityModel) {\r\n\t\tsuper();\r\n\t\tthis._visible = true;\r\n\t\tthis._model = model;\r\n\t\tthis._bindedFuncs = {};\r\n\r\n\t\t// this._notifyCallback = (data: any) => {this.notify(data)}\r\n\t\tthis._attachEvents();\r\n\r\n\r\n\t}\r\n\r\n\tset visible (visible: boolean) {\r\n\t\tthis._visible = visible;\r\n\t}\r\n\r\n\tget visible () {\r\n\t\treturn this._visible;\r\n\t}\r\n\r\n\tset model (model: EntityModel) {\r\n\t\tif (this._model) {\r\n\t\t\tthis._detachEvents();\r\n\t\t}\r\n\t\tthis._model = model;\r\n\t\tthis._attachEvents();\r\n\t}\r\n\r\n\tprivate _handleAttrChange (e: AttrChangeEvent) : void {\r\n\t\t//Do stuff\r\n\t\t// console.log(this.visible);\r\n\t\t// this._detachEvents();\r\n\t}\r\n\r\n\tprivate _attachEvents () : void {\r\n\t\tthis._model.on(ModelEventTypes.ATTR_CHANGE.toString(), (this._bindedFuncs[ModelEventTypes.ATTR_CHANGE.toString()] = this._handleAttrChange.bind(this)));\r\n\t\t\r\n\t\t// model.sync(this);\t\r\n\t}\r\n\r\n\tprivate _detachEvents () : void {\r\n\t\tthis._model.removeListener(ModelEventTypes.ATTR_CHANGE.toString(), this._bindedFuncs[ModelEventTypes.ATTR_CHANGE.toString()]);\r\n\t\t// this._clear();\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// /mnt/c/projects/Jiggy.io/src/entities/EntityView.ts","import {EntityView} from \"./EntityView\";\r\n\r\nexport class EntityView2D extends EntityView {\r\n\r\n\t// set visible (state : boolean) {\r\n\t// \tthis._visible = state;\r\n\t// \tvar color = this._getColor();\r\n\t// \tvar pixel = this._createPixel(\r\n\t// \t\tcolor[zen.entities.EntityView.static.R], \r\n\t// \t\tcolor[zen.entities.EntityView.static.G], \r\n\t// \t\tcolor[zen.entities.EntityView.static.B], \r\n\t// \t\tcolor[zen.entities.EntityView.static.A]\r\n\t// \t);\r\n\t// \tif (!state) {\r\n\t// \t\tpixel[zen.entities.EntityView.static.A] = 0;\r\n\t// \t}\r\n\t// \tthis._changeAllPixels(pixel);\r\n\t// }\r\n\r\n\t// *\r\n\t//  * public notify\r\n\t//  *\r\n\t//  *\tNotifies this EntityView of any data changes.\r\n\t//  * \r\n\t//  * @param  {String} evt  \r\n\t//  * @param  {Object} data \r\n\t//  * @return {void}      \r\n\t \r\n\t// public notify (evt: any, data: any) : void {\r\n\t// \tswitch(data.attribute) {\r\n\t// \t\tdefault:\r\n\t// \t\t\tsuper.notify(evt, data);\r\n\t// \t\t\tbreak;\r\n\t// \t}\r\n\t// }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// /mnt/c/projects/Jiggy.io/src/entities/EntityView2D.ts","import {Entity} from \"./Entity\";\r\nimport {\r\n\tDimension,\r\n\tCoordinate\r\n} from '../interfaces/';\r\n\r\nexport class GridMap extends Entity {\r\n\tpublic tileSize : Dimension;\r\n\tpublic tileCount : Coordinate;\r\n\tprivate _tiles : Entity[][];\r\n\r\n\tconstructor (tileSize: Dimension, tileCount: Coordinate) {\r\n\t\tsuper();\r\n\r\n\t\tthis.tileSize = tileSize;\r\n\t\tthis.tileCount = tileCount;\r\n\t\tthis._tiles = [];\r\n\r\n\t\tthis.width = (this.tileSize.width * this.tileCount.x);\r\n\t\tthis.height = (this.tileSize.height * this.tileCount.y);\r\n\r\n\t\tfor (var x = 0; x < this.tileCount.x; x ++) {\r\n\t\t\tfor (var y = 0; y < this.tileCount.y; y ++) {\r\n\t\t\t\tvar tile = new Entity();\r\n\t\t\t\ttile.width = this.tileSize.width;\r\n\t\t\t\ttile.height = this.tileSize.height;\r\n\t\t\t\ttile.x = ((x + 1) * this.tileSize.width);\r\n\t\t\t\ttile.y = ((y + 1) * this.tileSize.height);\r\n\r\n\t\t\t\tthis.addChild(tile);\r\n\r\n\t\t\t\tif (!this._tiles[x]) {\r\n\t\t\t\t\tthis._tiles[x] = [];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis._tiles[x][y] = tile;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic getTile (coordinate: Coordinate) : Entity {\r\n\t\treturn this._tiles[coordinate.x][coordinate.y];\r\n\t}\r\n\r\n\tpublic getTiles () : Entity[] {\r\n\t\treturn this._children;\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// /mnt/c/projects/Jiggy.io/src/entities/GridMap.ts"],"sourceRoot":""}